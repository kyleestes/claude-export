try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="cfa28117-5e36-4aac-a40e-bb6d8b819413",e._sentryDebugIdIdentifier="sentry-dbid-cfa28117-5e36-4aac-a40e-bb6d8b819413")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8185],{1385:(e,t,n)=>{n.d(t,{c:()=>u,j:()=>m});var a=n(42977),s=n(54568),r=n(90510),i=n(32987),l=n(7620),o=n(62971);function c(){let e=(0,a._)(["\n  relative\n  bg-text-500/50\n  overflow-hidden\n  after:absolute\n  after:inset-0\n  after:translate-x-[-100%]\n  after:bg-gradient-to-r after:from-always-white/0 after:from-0% after:via-always-white/20 after:via-50% after:to-100% after:to-always-white/0\n  after:animate-[shimmer_1.5s_infinite]\n"]);return c=function(){return e},e}function d(){let e=(0,a._)(["\n  relative\n  bg-bg-400\n  overflow-hidden\n  after:absolute\n  after:inset-0\n  after:translate-x-[-100%]\n  after:bg-gradient-to-r after:from-bg-000/0 after:from-0% after:via-bg-000/20 after:via-50% after:to-100% after:to-bg-000/0\n  after:animate-[shimmer_1.5s_infinite]\n"]);return d=function(){return e},e}let u=e=>{let{repeat:t,children:n}=e;return(0,s.jsx)(s.Fragment,{children:Array.from({length:t}).map((e,t)=>(0,s.jsx)(l.Fragment,{children:n},t))})};function m(e){let{className:t,height:n=24,width:a,rounded:r="full",variant:c="default"}=e,d=(0,l.useRef)(null),u={height:n,width:"number"==typeof a||"string"==typeof a?a:"object"==typeof a?(null===d.current&&(d.current=Math.round(Math.random()*(a.max-a.min))+a.min),d.current):"100%",maxWidth:"100%"};return(0,s.jsx)("light"===c?g:f,{className:(0,i.A)(t,{"rounded-full":"full"===r,"rounded-xl":"xl"===r,"rounded-lg":"lg"===r,"rounded-md":"md"===r,"rounded-sm":"sm"===r}),style:u,children:(0,s.jsx)("span",{className:"sr-only",children:(0,s.jsx)(o.A,{defaultMessage:"Loading...",id:"gjBiyjshwX"})})})}let f=r.J.div(c()),g=r.J.div(d())},15989:(e,t,n)=>{n.d(t,{J:()=>p});var a=n(54568),s=n(8027),r=n(11515),i=n(86030),l=n(64359),o=n(37076),c=n(32987),d=n(46760),u=n(62971),m=n(47823),f=n(73347),g=n(22364);function p(e){let{onClose:t,server:n}=e,c=(0,d.A)();return(0,a.jsx)(o.aF,{isOpen:!0,hasCloseButton:!0,onClose:t,modalSize:"xl",children:(0,a.jsxs)("div",{className:"px-6 pb-6",children:[(0,a.jsx)("div",{className:"flex justify-between items-start mb-6",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(r.d,{url:n.url,fallbackSvg:(0,a.jsx)(s.B,{letter:n.name,size:40}),size:40}),(0,a.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)("p",{className:"font-medium",children:n.name}),(0,a.jsx)(i.E,{children:"remote"===n.type?(0,a.jsx)(u.A,{defaultMessage:"CUSTOM",id:"Jg/zGahNtM"}):(0,a.jsx)(u.A,{defaultMessage:"LOCAL DEV",id:"S14UXqQo+W"})})]}),n.url?(0,a.jsx)(m.sd,{url:n.url}):n.version&&(0,a.jsx)("div",{className:"text-sm text-text-400",children:n.version})]})]})}),(0,a.jsx)(l.r,{gradientHeight:24,className:"h-[500px]",children:(0,a.jsx)("div",{className:"flex flex-col pb-4",children:(()=>{let e=!!n.tools.length,t=!!n.resources.length,s=!!n.prompts.length,r=!e&&t,i=!e&&!t&&s;return(0,a.jsxs)(a.Fragment,{children:[e&&(0,a.jsx)(h,{name:c.formatMessage({defaultMessage:"Tools",id:"nUT0LvZVOx"}),items:n.tools,server:n,isFirst:e}),t&&(0,a.jsx)(h,{name:c.formatMessage({defaultMessage:"Resources",id:"c/KktLImbB"}),items:n.resources,isFirst:r}),s&&(0,a.jsx)(h,{name:c.formatMessage({defaultMessage:"Prompts",id:"p7buKPIFPB"}),items:n.prompts,isFirst:i})]})})()})})]})})}function h(e){let{name:t,items:n,server:s,isFirst:r}=e;return(0,a.jsxs)("div",{className:(0,c.A)("flex flex-col pb-4",!r&&"border-t border-border-300 pt-4"),children:[(0,a.jsx)("div",{className:"sticky top-0 w-full bg-bg-100 pt-2 pb-4 z-10",children:(0,a.jsx)("div",{className:"flex gap-2 items-center",children:(0,a.jsx)("div",{className:"font-large-bold text-text-100",children:t})})}),(0,a.jsx)("div",{children:n.map(e=>{let t=(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("div",{className:"font-base-bold",children:e.displayName}),(0,a.jsx)(f.M,{text:e.description})]});return(0,a.jsx)("div",{className:"py-2",children:s?(0,a.jsx)(g.P,{tool:e,server:s,children:t},e.name):t},e.name)})})]})}},22389:(e,t,n)=>{n.d(t,{r:()=>A,z:()=>w});var a=n(54568),s=n(41417),r=n(56370),i=n(90119),l=n(96377),o=n(32987),c=n(7620),d=n(46760),u=n(25465),m=n(37076),f=n(4705),g=n(62971);function p(e){let{platform:t,onClose:n,onConfirm:r,loading:i}=e,l=(e=>{let t=e.match(/^https?:\/\/([^.]+)\.instructure\.com/);return(null==t?void 0:t[1])||e})(t.issuer);return(0,a.jsxs)(m.aF,{isOpen:!0,onClose:n,modalSize:"md",title:(0,a.jsxs)("div",{className:"flex gap-2 items-center text-danger-000",children:[(0,a.jsx)(f.N,{size:20,weight:"bold"}),(0,a.jsx)(g.A,{defaultMessage:"Disable Canvas Instance",id:"/71AtmCEAt"})]}),children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("p",{className:"text-text-000",children:(0,a.jsx)(g.A,{defaultMessage:"Are you sure you want to disable the Canvas instance ‘{platformName}’?",id:"5Sw2NbmZOi",values:{platformName:t.name||l}})}),(0,a.jsxs)("div",{className:"p-3 bg-danger-100 border border-danger-200 rounded-lg",children:[(0,a.jsx)("p",{className:"text-text-000 text-sm font-medium mb-2",children:(0,a.jsx)(g.A,{defaultMessage:"This action will:",id:"zvWv7FFtPu"})}),(0,a.jsxs)("ul",{className:"text-text-000 text-sm space-y-1 list-disc ml-4",children:[(0,a.jsx)("li",{children:(0,a.jsx)(g.A,{defaultMessage:"Temporarily disable Claude access from Canvas for this instance",id:"lIEPYlaaQV"})}),(0,a.jsx)("li",{children:(0,a.jsx)(g.A,{defaultMessage:"Prevent users from launching Claude from Canvas",id:"DeUCbJxieq"})}),(0,a.jsx)("li",{children:(0,a.jsx)(g.A,{defaultMessage:"Can be re-enabled at any time without reconfiguration",id:"wnmm8Q2qIC"})})]})]}),(0,a.jsx)("p",{className:"text-text-200 text-sm",children:(0,a.jsx)(g.A,{defaultMessage:"This Canvas instance will remain configured and can be re-enabled at any time.",id:"a5jT7TDFXC"})})]}),(0,a.jsxs)(m.vW,{children:[(0,a.jsx)(s.$,{variant:"danger",onClick:()=>r(t.id),loading:i,children:(0,a.jsx)(g.A,{defaultMessage:"Disable Canvas Instance",id:"/71AtmCEAt"})}),(0,a.jsx)(s.$,{variant:"secondary",onClick:n,children:(0,a.jsx)(g.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]})}var h=n(42952),x=n(17937);function v(e){let{platform:t,onClose:n,onConfirm:r,loading:i}=e,l=(e=>{let t=e.match(/^https?:\/\/([^.]+)\.instructure\.com/);return(null==t?void 0:t[1])||e})(t.issuer);return(0,a.jsxs)(m.aF,{isOpen:!0,onClose:n,modalSize:"md",title:(0,a.jsxs)("div",{className:"flex gap-2 items-center text-accent-secondary-000",children:[(0,a.jsx)(x.r,{size:20,weight:"bold"}),(0,a.jsx)(g.A,{defaultMessage:"Enable Canvas Instance",id:"x5ntJF/m/o"})]}),children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("p",{className:"text-text-000",children:(0,a.jsx)(g.A,{defaultMessage:"Are you sure you want to enable the Canvas instance ‘{platformName}’?",id:"sltSpK2pM1",values:{platformName:t.name||l}})}),(0,a.jsxs)("div",{className:"p-3 bg-accent-main-100 border border-accent-main-200 rounded-lg",children:[(0,a.jsx)("p",{className:"text-text-000 text-sm font-medium mb-2",children:(0,a.jsx)(g.A,{defaultMessage:"This will:",id:"+yrIUjrxTS"})}),(0,a.jsxs)("ul",{className:"text-text-000 text-sm space-y-1 list-disc ml-4",children:[(0,a.jsx)("li",{children:(0,a.jsx)(g.A,{defaultMessage:"Restore Claude access from Canvas for this instance",id:"6gypIwnFmn"})}),(0,a.jsx)("li",{children:(0,a.jsx)(g.A,{defaultMessage:"Allow users to launch Claude from Canvas again",id:"/aTphs8E3Z"})}),(0,a.jsx)("li",{children:(0,a.jsx)(g.A,{defaultMessage:"Reactivate the LTI integration for all users in your organization",id:"jX7w8Etxw8"})})]})]})]}),(0,a.jsxs)(m.vW,{children:[(0,a.jsx)(s.$,{variant:"primary",onClick:()=>r(t.id),loading:i,children:(0,a.jsx)(g.A,{defaultMessage:"Enable Canvas Instance",id:"x5ntJF/m/o"})}),(0,a.jsx)(s.$,{variant:"secondary",onClick:n,children:(0,a.jsx)(g.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]})}var y=n(82258),b=n(82010),j=n(64707),C=n(15989),A=function(e){return e[e.TOOLS=0]="TOOLS",e[e.DISCONNECT=1]="DISCONNECT",e[e.REMOVE=2]="REMOVE",e[e.DISABLE=3]="DISABLE",e[e.EDIT_CANVAS=4]="EDIT_CANVAS",e[e.DISABLE_CANVAS=5]="DISABLE_CANVAS",e[e.ENABLE_CANVAS=6]="ENABLE_CANVAS",e}({});function w(e){let{type:t,server:n,actions:m}=e,f=(0,d.A)(),g=(0,i.V)(),[x,A]=(0,c.useState)(void 0),w=()=>A(void 0),{data:M}=(0,u.sr)(),N=(0,u.oo)({onSuccess:w}),S=(0,u.Ks)({onSuccess:w}),_=(0,u.LK)({onSuccess:w}),z=null==M?void 0:M[0];if(0===m.length)return;let I={0:f.formatMessage({defaultMessage:"Tools and settings",id:"8a8L0qsqhm"}),1:f.formatMessage({defaultMessage:"Disconnect",id:"qj1uhzynub"}),3:f.formatMessage({defaultMessage:"Disable",id:"Rw7iI7vYlr"}),2:f.formatMessage({defaultMessage:"Remove",id:"G/yZLul6P1"}),4:f.formatMessage({defaultMessage:"Edit",id:"wEQDC6Wv3/"}),5:f.formatMessage({defaultMessage:"Disable",id:"Rw7iI7vYlr"}),6:f.formatMessage({defaultMessage:"Enable",id:"TqSTI0/TZI"})},L=null;switch(x){case 0:L=(0,a.jsx)(C.J,{server:n,onClose:w});break;case 1:L=(0,a.jsx)(b.m,{type:t,server:n,onClose:w});break;case 3:L=(0,a.jsx)(y.u,{type:t,onClose:w});break;case 2:L=(0,a.jsx)(j.f,{server:n,onClose:w});break;case 4:L=z?(0,a.jsx)(h.S,{platform:z,onClose:w,onSubmit:(e,t,n,a)=>{N.mutate({platformId:e,canvas_url:t,client_id:n,name:"".concat(t," Canvas"),deployment_ids:[a]})},loading:N.isPending}):null;break;case 5:L=z?(0,a.jsx)(p,{platform:z,onClose:w,onConfirm:e=>{_.mutate({platformId:e,is_active:!1})},loading:_.isPending}):null;break;case 6:L=z?(0,a.jsx)(v,{platform:z,onClose:w,onConfirm:e=>{S.mutate({platformId:e,is_active:!0})},loading:S.isPending}):null}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.ms,{align:"end",trigger:(0,a.jsx)(s.$,{size:"icon",variant:"outline","aria-label":n?f.formatMessage({defaultMessage:"More options for {label}",id:"rKQPgfPvWS"},{label:n.name}):f.formatMessage({defaultMessage:"More options",id:"IzCVhGdYVc"}),children:(0,a.jsx)(l.H,{size:16,weight:"bold"})}),children:m.map(e=>(0,a.jsx)(r.tJ,{className:(0,o.A)("min-w-[175px]",[1,3,2,5].includes(e)&&"text-danger-000"),onClick:()=>{if(2===e&&(null==n?void 0:n.type)==="local"&&g){var t,a;null==(a=window.claudeAppBindings)||null==(t=a.openMcpSettings)||t.call(a,n.name)}else A(e)},children:I[e]},e))}),L]})}},24644:(e,t,n)=>{n.d(t,{E:()=>l});var a=n(54568),s=n(15964),r=n(46760),i=n(62971);function l(e){let{domain:t,setDomain:n,clientId:l,setClientId:o,deploymentId:c,setDeploymentId:d}=e,u=(0,r.A)();return(0,a.jsxs)("div",{className:"flex flex-col gap-3 mt-2",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(s.ks,{required:!0,label:u.formatMessage({defaultMessage:"Canvas Domain",id:"Aok65+sKzA"}),placeholder:u.formatMessage({defaultMessage:"https://school.instructure.com or https://canvas.myschool.edu",id:"VAjV+8SnM6"}),value:t,onValueChange:e=>n(e||""),onBlur:()=>n(t.trim())}),(0,a.jsx)("p",{className:"text-text-200 text-sm mt-1",children:(0,a.jsx)(i.A,{defaultMessage:"Enter your Canvas domain (e.g., ‘https://school.instructure.com’ for hosted Canvas or ‘https://canvas.myschool.edu’ for self-hosted)",id:"uFbHowgMW9"})})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(s.ks,{required:!0,label:u.formatMessage({defaultMessage:"Client ID",id:"U5+MBCY8VU"}),placeholder:u.formatMessage({defaultMessage:"00000000000000",id:"BLrL/pjQgI"}),value:l,onValueChange:e=>o(e||""),onBlur:()=>o(l.trim())}),(0,a.jsx)("p",{className:"text-text-200 text-sm mt-1",children:(0,a.jsx)(i.A,{defaultMessage:"The Client ID from your Canvas LTI app registration (found in Canvas Admin > Developer Keys)",id:"iV5X/WX6MA"})})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(s.ks,{required:!0,label:u.formatMessage({defaultMessage:"Deployment ID",id:"/h+RD9WlzS"}),placeholder:u.formatMessage({defaultMessage:"1",id:"Tf9Oo0DwqC"}),value:c,onValueChange:e=>d(e||""),onBlur:()=>d(c.trim())}),(0,a.jsx)("p",{className:"text-text-200 text-sm mt-1",children:(0,a.jsx)(i.A,{defaultMessage:"The Deployment ID for your Canvas LTI integration",id:"iLMNAW31CI"})})]})]})}},25465:(e,t,n)=>{n.d(t,{AW:()=>u,Ks:()=>f,LK:()=>g,oo:()=>m,sr:()=>d});var a=n(77186),s=n(1761),r=n(65631),i=n(27062),l=n(87606);let o="lti_platforms";function c(){let{value:e}=(0,i.fS)("claude_ai_velvet_accordion");return e}let d=()=>{let{activeOrganization:e,account:t}=(0,s.YL)(),n=null==e?void 0:e.uuid,i=(0,r.yI)(t,e,r.Nt.OrganizationManage),l=c();return(0,a.Sk)("/api/organizations/".concat(n,"/lti/platforms"),{queryKey:[o,{orgUUID:n}],enabled:!!e&&!!n&&i&&l})},u=e=>{let t=(0,l.useQueryClient)(),{activeOrganization:n}=(0,s.YL)(),r=null==n?void 0:n.uuid,i=c();return(0,a.L2)("/api/organizations/".concat(r,"/lti/platforms"),"PUT",{enabled:i,onSuccess:e=>{t.setQueryData([o,{orgUUID:r}],t=>t?[...t,e]:[e]),t.invalidateQueries({queryKey:[o]})},onSettled:(e,n)=>{e&&!n&&(t.setQueryData([o,{orgUUID:r}],t=>t?[...t,e]:[e]),t.invalidateQueries({queryKey:[o]}))},...e})},m=e=>{let t=(0,l.useQueryClient)(),{activeOrganization:n}=(0,s.YL)(),r=null==n?void 0:n.uuid,i=c();return(0,a.L2)(e=>{let{platformId:t}=e;return"/api/organizations/".concat(r,"/lti/platforms/").concat(t)},"POST",{enabled:i,onSuccess:(e,n)=>{t.setQueryData([o,{orgUUID:r}],t=>{if(!t)return[e];let a=t.findIndex(e=>e.id===n.platformId);if(-1!==a){let n=[...t];return n[a]=e,n}return t}),t.invalidateQueries({queryKey:[o]})},onSettled:(e,n,a)=>{e&&!n&&(t.setQueryData([o,{orgUUID:r}],t=>{if(!t)return[e];let n=t.findIndex(e=>e.id===a.platformId);if(-1!==n){let a=[...t];return a[n]=e,a}return t}),t.invalidateQueries({queryKey:[o]}))},...e})},f=e=>{let t=(0,l.useQueryClient)(),{activeOrganization:n}=(0,s.YL)(),r=null==n?void 0:n.uuid,i=c();return(0,a.L2)(e=>{let{platformId:t}=e;return"/api/organizations/".concat(r,"/lti/platforms/").concat(t)},"POST",{enabled:i,onMutate:e=>e,onSuccess:(e,n)=>{t.setQueryData([o,{orgUUID:r}],t=>{if(!t)return[e];let a=t.findIndex(e=>e.id===n.platformId);if(-1!==a){let n=[...t];return n[a]=e,n}return t}),t.invalidateQueries({queryKey:[o]})},onError:()=>{},onSettled:(e,n,a)=>{e&&!n&&(t.setQueryData([o,{orgUUID:r}],t=>{if(!t)return[e];let n=t.findIndex(e=>e.id===a.platformId);if(-1!==n){let a=[...t];return a[n]=e,a}return t}),t.invalidateQueries({queryKey:[o]}))},...e})},g=e=>{let t=(0,l.useQueryClient)(),{activeOrganization:n}=(0,s.YL)(),r=null==n?void 0:n.uuid,i=c();return(0,a.L2)(e=>{let{platformId:t}=e;return"/api/organizations/".concat(r,"/lti/platforms/").concat(t)},"POST",{enabled:i,onMutate:e=>e,onSuccess:(e,n)=>{t.setQueryData([o,{orgUUID:r}],t=>{if(!t)return[e];let a=t.findIndex(e=>e.id===n.platformId);if(-1!==a){let n=[...t];return n[a]=e,n}return t}),t.invalidateQueries({queryKey:[o]})},onError:()=>{},onSettled:(e,n,a)=>{e&&!n&&(t.setQueryData([o,{orgUUID:r}],t=>{if(!t)return[e];let n=t.findIndex(e=>e.id===a.platformId);if(-1!==n){let a=[...t];return a[n]=e,a}return t}),t.invalidateQueries({queryKey:[o]}))},...e})}},42952:(e,t,n)=>{n.d(t,{S:()=>c});var a=n(54568),s=n(41417),r=n(37076),i=n(7620),l=n(62971),o=n(24644);function c(e){var t;let{platform:n,onClose:c,onSubmit:d,loading:u}=e,[m,f]=(0,i.useState)(n.issuer),[g,p]=(0,i.useState)(n.client_id),[h,x]=(0,i.useState)((null==(t=n.deployment_ids)?void 0:t[0])||""),v=!m.trim()||!g.trim()||!h.trim();return(0,a.jsx)(r.aF,{isOpen:!0,onClose:c,modalSize:"xl",title:(0,a.jsx)("div",{className:"flex gap-2 items-center",children:(0,a.jsx)(l.A,{defaultMessage:"Edit Canvas Instance",id:"aBsNZWVKN+"})}),subtitle:(0,a.jsx)(l.A,{defaultMessage:"Update your Canvas LMS instance configuration",id:"FqSEGC5V7F"}),children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),v||d(n.id,m.trim().replace(/\/$/,""),g.trim(),h.trim())},className:"flex flex-col",children:[(0,a.jsx)(o.E,{domain:m,setDomain:f,clientId:g,setClientId:p,deploymentId:h,setDeploymentId:x}),(0,a.jsxs)(r.vW,{children:[(0,a.jsx)(s.$,{type:"submit",loading:u,disabled:v,children:(0,a.jsx)(l.A,{defaultMessage:"Save Changes",id:"3VI9mt1zm0"})}),(0,a.jsx)(s.$,{variant:"secondary",onClick:c,children:(0,a.jsx)(l.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]})})}},44077:(e,t,n)=>{n.d(t,{R:()=>l});var a=n(54568),s=n(7620),r=n(41417),i=n(37076);let l=(0,s.memo)(e=>{let{isOpen:t,onClose:n,onConfirm:l,title:o,message:c,confirmText:d="Confirm",cancelText:u="Cancel",variant:m="primary",isLoading:f,disabled:g=!1,autoFocus:p=!0,testId:h,children:x,size:v="sm"}=e,[y,b]=(0,s.useState)(!1),j=null!=f?f:y,C=(0,s.useCallback)(async()=>{if(!g&&!j){b(!0);try{let e=l();e&&"function"==typeof e.then&&await e,n()}finally{b(!1)}}},[l,n,g,j]),A=(0,s.useCallback)(()=>{j||n()},[n,j]);return(0,a.jsxs)(i.aF,{isOpen:t,onClose:A,title:o,modalSize:v,closeOnEscapeKeydown:!j,children:[(0,a.jsxs)("div",{className:"mt-1 mb-2",children:[c&&(0,a.jsx)("div",{className:"text-text-300 whitespace-pre-line",children:c}),x]}),(0,a.jsxs)(i.vW,{children:[(0,a.jsx)(r.$,{variant:"secondary",onClick:A,disabled:j,children:u}),(0,a.jsx)(r.$,{variant:"danger"===m?"danger":"primary",onClick:C,disabled:g||j,loading:j,autoFocus:p,"data-testid":h||"confirmation-modal-confirm",children:d})]})]})});l.displayName="ConfirmationModal"},45270:(e,t,n)=>{n.d(t,{Ou:()=>h,Xd:()=>x});var a=n(17411),s=n(27062),r=n(77101),i=n(37428),l=n(21036),o=n(25465),c=n(85717),d=n(65671),u=n(57934),m=n(45715),f=n(91768),g=n(22389);function p(){let{value:e}=(0,s.fS)("kingfisher_enabled"),t=(0,c.LP)(),{isDriveAuthenticated:n}=(0,c.cI)(),{value:a}=(0,s.fS)("pumpernickel_enabled"),i=(0,f.Ys)(r.v8.GMAIL),{isAuthenticated:o}=(0,f.ob)(r.v8.GMAIL),d=(0,f.Ys)(r.v8.GCAL),{isAuthenticated:u}=(0,f.ob)(r.v8.GCAL),m=(0,f.Ys)(r.v8.SLACK),{isAuthenticated:g}=(0,f.ob)(r.v8.SLACK),p=(0,l.useLayer)("trials_freemium").get("free_integrations",!1);return{[r.v8.GDRIVE]:{type:r.v8.GDRIVE,available:e||p,enabledForOrg:t,connected:n},[r.v8.GMAIL]:{type:r.v8.GMAIL,available:a||p,enabledForOrg:i,connected:o},[r.v8.GCAL]:{type:r.v8.GCAL,available:a||p,enabledForOrg:d,connected:u},[r.v8.SLACK]:{type:r.v8.SLACK,available:m,enabledForOrg:m,connected:g}}}let h=p;function x(){let e=Object.values(p()),t=(0,u.Cq)(),{isGithubAuthenticated:n}=(0,u.nB)({fetchImmediately:!0}),l=(0,i.wc)()[i.j$]||"invalid",{data:c}=(0,a.Jh)(l),h=c&&c.length>0,{value:x}=(0,s.fS)("spider_enabled_2"),v=(0,m.AI)(),{isOutlineAuthenticated:y}=(0,m.I5)(),{value:b}=(0,s.fS)("cinnabon_enabled"),j=(0,f.Ys)(r.v8.SALESFORCE),{isAuthenticated:C}=(0,f.ob)(r.v8.SALESFORCE),A=(0,f.Ys)(r.v8.ASANA),{isAuthenticated:w}=(0,f.ob)(r.v8.ASANA),{value:M}=(0,s.fS)("claude_ai_ember"),{value:N}=(0,s.fS)("claude_ai_velvet_accordion"),{data:S}=(0,o.sr)(),_=((null==S?void 0:S.filter(e=>e.is_active))||[]).length>0,z=(0,d.w5)(),{isAuthenticated:I}=(0,d.eF)();return[...e,...h?[{type:r.v8.CUTTLEFISH,available:!0,enabledForOrg:!0,connected:!0}]:[],{type:r.v8.GITHUB,available:!0,enabledForOrg:t,connected:n},{type:r.v8.OUTLINE,available:x&&!1,enabledForOrg:v,connected:y},{type:r.v8.SALESFORCE,available:b,enabledForOrg:j,connected:C},{type:r.v8.ASANA,available:b,enabledForOrg:A,connected:w},{type:r.v8.FIDDLEHEAD,available:!1,enabledForOrg:z,connected:I},{type:r.v8.CANVAS,available:M&&N&&!0,enabledForOrg:_,connected:_,connectedActions:_?[g.r.EDIT_CANVAS,g.r.DISABLE_CANVAS]:[],disconnectedActions:[]}].filter(e=>e.available)}},47823:(e,t,n)=>{n.d(t,{cG:()=>w,fI:()=>C,lg:()=>b,sd:()=>j,zA:()=>A});var a=n(54568),s=n(18472),r=n(8027),i=n(11515),l=n(1761),o=n(69916),c=n(86030),d=n(34059),u=n(1385),m=n(12072),f=n(9786),g=n(65631),p=n(77101),h=n(32987);n(7620);var x=n(46760),v=n(62971),y=n(87907);function b(){let{account:e,activeOrganization:t}=(0,l.YL)(),n=(0,g.pG)(e,t,"claude-ai"),a=(0,g.yI)(e,t,g.Nt.IntegrationsManage),s=(0,l.mV)();return{manageFromOrg:s&&(a||n),manageFromPersonal:!s}}function j(e){let{url:t}=e,{copyToClipboard:n}=(0,f.C)(),{addSuccess:s}=(0,o.Y)(),r=(0,x.A)(),i=t.length>50?"".concat(t.substring(0,47),"..."):t;return(0,a.jsx)(m.Tooltip,{tooltipContent:(0,a.jsx)(v.A,{defaultMessage:"Copy URL",id:"P8QaSQLfW+"}),side:"bottom",align:"start",children:(0,a.jsx)("div",{className:"text-sm text-text-400 cursor-pointer hover:text-text-300 transition-colors truncate",onClick:()=>{n(t),s(r.formatMessage({defaultMessage:"Server URL copied",id:"Izgggpt47N"}))},children:i})})}function C(e){let{type:t,server:n,connected:l,children:o,isInDirectory:u=!1}=e,m=(0,y.ak)(),f=n?!n.isConnected:t&&!1===l,g=t===p.v8.FIDDLEHEAD?m(t):null==n?void 0:n.name;return(0,a.jsxs)("div",{className:"flex flex-row gap-3 items-center",children:[t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.O,{size:42,className:(0,h.A)(f&&"opacity-50"),children:(0,a.jsx)(d.A9,{type:t,size:24})}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 min-w-0 relative bottom-px",children:[(0,a.jsx)("span",{className:(0,h.A)("truncate",f&&"text-text-400"),children:m(t)}),f&&(0,a.jsx)("div",{className:"text-sm text-text-500",children:(0,a.jsx)(v.A,{defaultMessage:"Disconnected",id:"FZeQlcp+xX"})})]})]}),n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.O,{size:42,className:(0,h.A)(f&&"opacity-50"),children:(0,a.jsx)(i.d,{url:n.url,fallbackSvg:(0,a.jsx)(r.B,{hideBorder:!0,letter:g||"?",size:24}),size:24})}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 min-w-0 relative bottom-px",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)("span",{className:(0,h.A)("truncate",f&&"text-text-400"),children:g}),!u&&(0,a.jsx)(c.E,{children:"remote"===n.type?(0,a.jsx)(v.A,{defaultMessage:"CUSTOM",id:"Jg/zGahNtM"}):(0,a.jsx)(v.A,{defaultMessage:"LOCAL DEV",id:"S14UXqQo+W"})})]}),f?(0,a.jsx)("div",{className:"text-sm text-text-500",children:(0,a.jsx)(v.A,{defaultMessage:"Disconnected",id:"FZeQlcp+xX"})}):n.url&&!u&&(0,a.jsx)(j,{url:n.url})]})]}),(0,a.jsx)("div",{className:"flex-1"}),(0,a.jsx)("div",{className:"flex gap-3 items-center",children:o})]})}function A(){return(0,a.jsxs)("div",{className:"flex flex-row gap-3 items-center",children:[(0,a.jsx)(u.j,{width:42,height:42,rounded:"lg",variant:"light"}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)(u.j,{width:120,height:20,rounded:"md",variant:"light"}),(0,a.jsx)(u.j,{width:80,height:16,rounded:"md",variant:"light"})]}),(0,a.jsx)("div",{className:"flex-1"}),(0,a.jsx)("div",{className:"flex gap-3 items-center",children:(0,a.jsx)(u.j,{width:80,height:32,rounded:"md",variant:"light"})})]})}function w(e){let{className:t}=e;return(0,a.jsx)("div",{className:(0,h.A)("border-t-[0.5px] border-border-300 m-2",t)})}},64359:(e,t,n)=>{n.d(t,{r:()=>o});var a=n(54568),s=n(32987),r=n(39152),i=n.n(r),l=n(7620);function o(e){let{direction:t="vertical",disabled:n,containerClassName:r,className:o,gradientHeight:c=24,hideTopGradient:d=!1,hideBottomGradient:u=!1,contentHeightMayChange:m=!1,containerHeightMayChange:f=!1,children:g,...p}=e,h=(0,l.useRef)(null),x=(0,l.useRef)(null),[v,y]=(0,l.useState)(!0),[b,j]=(0,l.useState)(!0),C=(0,l.useRef)(v),A=(0,l.useRef)(b),w=i()((0,l.useCallback)(()=>{let e=x.current;e&&(("vertical"===t?e.scrollHeight-e.scrollTop-e.clientHeight<=1:e.scrollWidth-e.scrollLeft-e.clientWidth<=1)?C.current||(y(!0),C.current=!0):C.current&&(y(!1),C.current=!1),("vertical"===t?e.scrollTop:e.scrollLeft)<=0?A.current||(j(!0),A.current=!0):A.current&&(j(!1),A.current=!1))},[t]),150);return(0,l.useEffect)(()=>{w()},[w]),(0,l.useEffect)(()=>{if(!h.current||!m)return;let e=new ResizeObserver(w);return e.observe(h.current),()=>{e.disconnect()}},[w,m]),(0,l.useEffect)(()=>{if(!x.current||!f)return;let e=new ResizeObserver(w);return e.observe(x.current),()=>{e.disconnect()}},[w,f]),(0,a.jsx)("div",{style:{maskImage:n?void 0:"linear-gradient(to ".concat("vertical"===t?"bottom":"right",", transparent 0%, black ").concat(b||d?0:c,"px, black calc(100% - ").concat(v||u?0:c,"px), transparent 100%)")},className:(0,s.A)("vertical"===t?"min-h-0":"min-w-0",r),children:(0,a.jsx)("div",{onScroll:n?void 0:w,ref:x,className:(0,s.A)("vertical"===t?"overflow-y-auto overflow-x-hidden min-h-0":"overflow-x-auto overflow-y-hidden min-w-0",o),...p,children:m?(0,a.jsx)("div",{ref:h,children:g}):g})})}},64707:(e,t,n)=>{n.d(t,{f:()=>u});var a=n(54568),s=n(1761),r=n(69916),i=n(41417),l=n(37076),o=n(46760),c=n(62971),d=n(70659);function u(e){var t;let{onClose:n,server:u}=e,m=(0,o.A)(),f=(0,s.mV)(),{activeOrganization:g}=(0,s.YL)(),{addError:p}=(0,r.Y)(),h=u.name,{mutate:x,isPending:v}=(0,d.ll)((null==g?void 0:g.uuid)||"",null!=(t=u.uuid)?t:"",{onSuccess:n,onError:e=>{p(m.formatMessage({defaultMessage:"Failed to disconnect server",id:"zX14mjXCQK"}),{error:e})}});return(0,a.jsxs)(l.aF,{isOpen:!0,onClose:n,title:f?m.formatMessage({defaultMessage:"Disconnect {serverName} for your team?",id:"QktyTo9HSH"},{serverName:h}):m.formatMessage({defaultMessage:"Disconnect {serverName}?",id:"qlhEu4xmhz"},{serverName:h}),modalSize:"lg",children:[(0,a.jsx)("p",{className:"mt-4 mb-6 text-text-200",children:f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.A,{defaultMessage:"This will disconnect {serverName} for everyone on your team.",id:"W/2zE+LA7Z",values:{serverName:h}}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(c.A,{defaultMessage:"They’ll be able to continue previous chats referencing {serverName} content, but Claude won’t be able to access new content or perform new tasks.",id:"febCGTUpcY",values:{serverName:h}})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.A,{defaultMessage:"You can still continue previous chats that reference {serverName} content.",id:"xonrKBdErN",values:{serverName:h}}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(c.A,{defaultMessage:"However, Claude won’t be able to access new content or perform new tasks.",id:"GXIZPZXIvC"})]})}),(0,a.jsxs)(l.vW,{layout:"right",children:[(0,a.jsx)(i.$,{onClick:n,variant:"secondary",children:(0,a.jsx)(c.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,a.jsx)(i.$,{loading:v,onClick:()=>x(),variant:"danger",children:(0,a.jsx)(c.A,{defaultMessage:"Disconnect",id:"qj1uhzynub"})})]})]})}},65671:(e,t,n)=>{n.d(t,{Qp:()=>u,eF:()=>d,w5:()=>c});var a=n(77186),s=n(1761),r=n(27062),i=n(37428),l=n(87606),o=n(62942);let c=()=>(0,r.fS)("fiddlehead").value,d=()=>{let{activeOrganization:e}=(0,s.YL)(),t=null==e?void 0:e.uuid,n=c(),r=(0,i.wc)(),{data:l,isFetched:d}=(0,a.Sk)("/api/oauth/organizations/".concat(t,"/oauth_tokens"),{enabled:!!(t&&n),staleTime:3e5}),u=(0,o.useSearchParams)().get("debug_fiddlehead_auth_override"),m=r[i.me],f=m&&(null==l?void 0:l.some(e=>e.application_name===m));return{isAuthenticated:null!==u?"1"===u:f,isFetched:d,initAuth:()=>{window.open(r[i.vf],"_blank")}}},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:t}=(0,s.YL)(),n=null==t?void 0:t.uuid,r=c(),i=(0,l.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(n,"/fiddlehead/disconnect_and_delete_all"),"POST",{enabled:!!(t&&r),...e,onSuccess:function(){for(var t,a=arguments.length,s=Array(a),r=0;r<a;r++)s[r]=arguments[r];i.invalidateQueries({queryKey:["/api/oauth/organizations/".concat(n,"/oauth_tokens")]}),null==(t=e.onSuccess)||t.call(e,...s)}})}},70659:(e,t,n)=>{n.d(t,{vW:()=>S,R4:()=>N,qb:()=>j,ll:()=>C,eB:()=>b,W3:()=>A,lu:()=>v,p9:()=>y,p4:()=>M});var a=n(98518),s=n(77186),r=n(1761),i=n(69916),l=n(71473),o=n(27062),c=n(44180),d=n(87606),u=n(7620),m=n(75006),f=n(57383),g=n(16253),p=n(62370);function h(e){let t=window.atob(e),n=new ArrayBuffer(t.length),a=new Uint8Array(n);for(let e=0;e<t.length;e++)a[e]=t.charCodeAt(e);return n}let x=m.Ay.object({uuid:m.Ay.string().uuid(),name:m.Ay.string(),url:m.Ay.string(),created_at:m.Ay.string().datetime(),updated_at:m.Ay.string().datetime(),custom_oauth_client_id:m.Ay.string().nullable().optional(),custom_oauth_client_secret:m.Ay.string().nullable().optional(),is_authenticated:m.Ay.boolean().default(!1)}),v=()=>{let{value:e}=(0,o.fS)("papi_mcp");return e},y=()=>{let{value:e}=(0,o.fS)("papi_mcp_remote");return e};function b(e,t){let n=v(),a=y();return(0,s.Sk)("/api/organizations/".concat(e,"/mcp/remote_servers"),{queryKey:[l.lA,e],enabled:!a&&n&&!!e,...t,select:e=>m.z.array(x).parse(e)})}function j(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,{track:r}=(0,a.st)(),i=(0,d.useQueryClient)(),o=y();return(0,s.L2)("/api/organizations/".concat(e,"/mcp/remote_servers"),"POST",{...t,onSuccess:(a,s,c)=>{var d;o&&w(i,e,a.uuid,"create",a),i.invalidateQueries({queryKey:[l.lA,e]}),i.invalidateQueries({queryKey:[l.qE,e]}),null==(d=t.onSuccess)||d.call(t,a,s,c),r({event_key:"claudeai.mcp.create_server",source:n.source,url:a.url,type:"remote"})}})}function C(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(0,d.useQueryClient)(),r=y();return(0,s.L2)("/api/organizations/".concat(e,"/mcp/remote_servers/").concat(t),"DELETE",{...n,onSettled:()=>{(0,p.eg)(t)},onSuccess:(s,i,o)=>{var c;r&&w(a,e,t,"delete"),a.invalidateQueries({queryKey:[l.lA,e]}),a.invalidateQueries({queryKey:[l.qE,e]}),null==(c=n.onSuccess)||c.call(n,s,i,o)}})}function A(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(0,d.useQueryClient)(),r=y();return(0,s.L2)("/api/organizations/".concat(e,"/mcp/logout/").concat(t),"POST",{...n,onSettled:()=>{(0,p.Ug)(t)},onSuccess:(s,i,o)=>{var c;r&&w(a,e,t,"logout",{connected:!1,tools:[],prompts:[],resources:[]}),a.invalidateQueries({queryKey:[l.lA,e]}),a.invalidateQueries({queryKey:[l.qE,e]}),null==(c=n.onSuccess)||c.call(n,s,i,o)}})}async function w(e,t,n,a,s){try{e.setQueryData([l.$d,t],e=>{let t=null!=e?e:[];switch(a){case"create":return[...t,s].sort((e,t)=>e.name.localeCompare(t.name));case"update":case"logout":return t.map(e=>e.uuid===n?{...e,...s}:e).sort((e,t)=>e.name.localeCompare(t.name));case"delete":return t.filter(e=>e.uuid!==n)}});let r=await fetch("/api/organizations/".concat(t,"/mcp/bootstrap")),i=await r.json();e.setQueryData([l.$d,t],i)}catch(e){(0,c.Cp)(e,{tags:{action:"updateBootstrapData"},extra:{orgUuid:t,action:a,serverUuid:n}})}}function M(e){let t=y(),{activeOrganization:n}=(0,r.YL)(),a=null==n?void 0:n.uuid;return(0,s.L2)("/api/organizations/".concat(a,"/chat_conversations/").concat(e,"/tool_approval"),"POST",{enabled:!!e&&!!a&&t})}function N(){let{mutateAsync:e}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=y(),{activeOrganization:n}=(0,r.YL)(),a=null==n?void 0:n.uuid;return(0,s.L2)("/api/organizations/".concat(a,"/mcp/attach_resource"),"POST",{enabled:t&&!!a,...e})}(),t=_(),{addError:n}=(0,i.Y)(),l=y(),o=function(){let{addError:e}=(0,i.Y)(),{track:t}=(0,a.st)(),{handleUpload:n}=(0,f.oM)();return(0,u.useCallback)(async(a,s)=>{try{let e=(await (0,p.KU)(a).readResource({uri:s.uri},{timeout:15e3})).contents.map(e=>{let n;return"text"in e?(n=String(e.text),t({event_key:"mcp.resources.read",type:"text",mime_type:e.mimeType})):(n=h(e.blob),t({event_key:"mcp.resources.read",type:"binary",mime_type:e.mimeType})),new File([n],s.name,{type:e.mimeType})});e.length>0&&await n(e)}catch(t){e("Failed to upload resource. You can try again.",{error:t})}},[t,e,n])}();return(0,u.useCallback)(async a=>{let{serverUuid:s,resource:r,onClose:i}=a;if(!l)return o(s,r);try{let n=(0,p.KU)(s),a=await n.readResource({uri:r.uri},{timeout:15e3}),l=await e({resource:r,server_uuid:s,result:a});t(l),null==i||i()}catch(e){n("Failed to attach resource. You can try again.",{error:e,errorContext:{tags:{action:"attach_resource"},extra:{serverUuid:s}}})}},[e,t,n,l,o])}function S(e){let{mutateAsync:t}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=y(),{activeOrganization:n}=(0,r.YL)(),a=null==n?void 0:n.uuid;return(0,s.L2)("/api/organizations/".concat(a,"/mcp/attach_prompt"),"POST",{enabled:t&&!!a,...e})}(),n=_(),{addError:l}=(0,i.Y)(),o=y(),c=function(e){let{track:t}=(0,a.st)(),{addError:n}=(0,i.Y)(),{handleUpload:s}=(0,f.oM)();return(0,u.useCallback)(async(a,r,i)=>{try{let n=await (0,p.KU)(a).getPrompt({name:r.name,arguments:i},{timeout:15e3});t({event_key:"mcp.prompts.used",argument_count:Object.keys(i).length,assistant_messages:n.messages.filter(e=>"assistant"===e.role).length,user_messages:n.messages.filter(e=>"user"===e.role).length,text_messages:n.messages.filter(e=>"text"===e.content.type).length,image_messages:n.messages.filter(e=>"image"===e.content.type).length});let l=(e,t)=>{let n=e=>{let t=g._F[e];if(!t)throw Error("Unsupported MIME type: ".concat(e));return t},a=e=>"".concat(r.name).concat(t?"_".concat(t):"",".").concat(e);switch(e.content.type){case"text":return new File([e.content.text],a("txt"),{type:"text/plain"});case"image":{let t=n(e.content.mimeType);return new File([h(e.content.data)],a(t),{type:e.content.mimeType})}case"resource":if("text"in e.content.resource){var s;let t=e.content.resource;return new File([t.text],"".concat(t.uri,".txt"),{type:null!=(s=t.mimeType)?s:"text/plain"})}if("blob"in e.content.resource){let t=e.content.resource;if(!t.mimeType)throw Error("Missing MIME type for embedded resource");let a=n(t.mimeType);return new File([h(t.blob)],"".concat(t.uri,".").concat(a),{type:t.mimeType})}throw Error("Invalid resource content");case"audio":throw Error("Audio content not supported");case"resource_link":throw Error("Resource links are not supported")}};if(1===n.messages.length)await s([l(n.messages[0],0)]);else if(n.messages.length>1){let e=n.messages.flatMap((e,t)=>"image"===e.content.type||"resource"===e.content.type&&"blob"in e.content.resource?[l(e,t)]:[]),t=n.messages.filter(e=>"text"===e.content.type||"resource"===e.content.type&&"text"in e.content.resource);if(t.length>0){let n=JSON.stringify(t,null,2);e.push(new File([n],"".concat(r.name,"_messages.json"),{type:"application/json"}))}await s(e)}null==e||e()}catch(e){n("Failed to get prompt. You can try again.",{error:e})}},[t,n,s,e])}(e);return(0,u.useCallback)(async a=>{let{serverUuid:s,prompt:r,args:i}=a;if(!o)return c(s,r,i);try{let a=(0,p.KU)(s),l=await a.getPrompt({name:r.name,arguments:i},{timeout:15e3}),o=await t({prompt:r,arguments:i,server_uuid:s,result:l});n(o),null==e||e()}catch(e){l("Failed to attach prompt. You can try again.",{error:e,errorContext:{tags:{action:"attach_prompt"},extra:{serverUuid:s}}})}},[t,n,l,e,o,c])}function _(){let{setAttachments:e,setFiles:t}=(0,f.oM)();return(0,u.useCallback)(n=>{let{files:a,attachments:s}=n;a&&a.length>0&&t(e=>{let t=new Set(e.map(e=>e.file_uuid));return[...e,...a.filter(e=>!t.has(e.file_uuid))]}),s&&s.length>0&&e(e=>Array.from(new Set([...e,...s].map(e=>JSON.stringify(e)))).map(e=>JSON.parse(e)))},[e,t])}m.z.object({name:m.z.string(),url:m.z.string(),custom_oauth_client_id:m.z.string().nullable().optional(),custom_oauth_client_secret:m.z.string().nullable().optional()}),m.z.object({name:m.z.string().optional().nullable(),url:m.z.string().optional().nullable()})},82010:(e,t,n)=>{n.d(t,{m:()=>x});var a=n(54568),s=n(17411),r=n(1761),i=n(69916),l=n(44077),o=n(77101),c=n(37428),d=n(46760),u=n(70659),m=n(85717),f=n(65671),g=n(57934),p=(n(45715),n(91768)),h=n(87907);function x(e){let{type:t,server:n,onClose:s}=e;if(n)return(0,a.jsx)(j,{server:n,onClose:s});switch(t){case o.v8.GITHUB:return(0,a.jsx)(v,{onClose:s});case o.v8.GDRIVE:return(0,a.jsx)(y,{onClose:s});case o.v8.OUTLINE:return;case o.v8.FIDDLEHEAD:return(0,a.jsx)(C,{onClose:s});case o.v8.CUTTLEFISH:return(0,a.jsx)(A,{onClose:s});default:return(0,a.jsx)(b,{type:t,onClose:s})}}function v(e){let{onClose:t}=e,{mutate:n,isPending:s}=(0,g.rW)();return(0,a.jsx)(w,{name:"GitHub",onDisconnect:n,disconnecting:s,onClose:t})}function y(e){let{onClose:t}=e,{mutate:n,isPending:s}=(0,m.U5)(),r=(0,d.A)();return(0,a.jsx)(w,{name:"Google Drive",onDisconnect:n,disconnecting:s,onClose:t,modalMessageOverride:r.formatMessage({defaultMessage:"You won’t be able to continue any previous chats that reference content from Google Docs.",id:"Zi7eVRnAwf"})})}function b(e){let{type:t,onClose:n}=e,{disconnect:s}=(0,p.ob)(t);return(0,a.jsx)(w,{name:(0,h.xI)(t),onDisconnect:s,disconnecting:!1,onClose:n})}function j(e){let{server:t,onClose:n}=e,s=(0,d.A)(),{activeOrganization:l}=(0,r.YL)(),{addError:o}=(0,i.Y)(),{mutate:c,isPending:m}=(0,u.W3)((null==l?void 0:l.uuid)||"",t.uuid,{onError:e=>{o(s.formatMessage({defaultMessage:"Failed to disconnect from server",id:"L488a5jdgF"}),{error:e})}});return(0,a.jsx)(w,{name:t.name,onDisconnect:c,disconnecting:m,onClose:n})}function C(e){let{onClose:t}=e,{mutate:n,isPending:s}=(0,f.Qp)(),r=(0,h.ak)(),i=(0,c.wc)(),l=i[c.BU],d=i[c.jT],u=i[c.fh];return(0,a.jsx)(w,{name:r(o.v8.FIDDLEHEAD),onDisconnect:n,disconnecting:s,onClose:t,modalMessageOverride:l,modalTitleOverride:d,modalButtonOverride:u})}function A(e){let{onClose:t}=e,{mutate:n,isPending:r}=(0,s.fH)(),i=(0,h.ak)();return(0,a.jsx)(w,{name:i(o.v8.CUTTLEFISH),onDisconnect:n,disconnecting:r,onClose:t})}function w(e){let{name:t,onDisconnect:n,disconnecting:s,onClose:r,modalMessageOverride:i,modalTitleOverride:o,modalButtonOverride:c}=e,u=(0,d.A)(),m=null!=o?o:u.formatMessage({defaultMessage:"Disconnect {integrationName}?",id:"MUrNVj88RO"},{integrationName:t}),f=null!=c?c:u.formatMessage({defaultMessage:"Disconnect",id:"qj1uhzynub"}),g=null!=i?i:u.formatMessage({defaultMessage:"You can still continue previous chats that reference {integrationName} content. However, Claude won’t be able to access new content or perform new tasks.",id:"tlmLidjA7e"},{integrationName:t});return(0,a.jsx)(l.R,{isOpen:!0,onClose:r,title:m,onConfirm:()=>{n(),r()},confirmText:f,variant:"danger",autoFocus:!1,message:g,size:"md",isLoading:s})}},82258:(e,t,n)=>{n.d(t,{u:()=>h});var a=n(54568),s=n(1761),r=n(41417),i=n(91926),l=n(37076),o=n(12072),c=n(77101),d=n(38583),u=n(7620),m=n(46760),f=n(62971),g=n(91768),p=n(87907);function h(e){let{type:t,onClose:n}=e,i=(0,s.mV)(),o=(0,m.A)(),{mutate:d,isPending:h}=(0,g.xc)({onSuccess:n}),[v,y]=(0,u.useState)(!1),b=(0,p.xI)(t);return(0,a.jsxs)(l.aF,{isOpen:!0,onClose:n,title:i?o.formatMessage({defaultMessage:"Disconnect {serverName} for your team?",id:"QktyTo9HSH"},{serverName:b}):o.formatMessage({defaultMessage:"Disconnect {serverName}?",id:"qlhEu4xmhz"},{serverName:b}),modalSize:"lg",children:[(0,a.jsx)("p",{className:"mt-4 mb-6 text-text-200",children:i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.A,{defaultMessage:"This will disconnect {serverName} for everyone on your team.",id:"W/2zE+LA7Z",values:{serverName:b}}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(f.A,{defaultMessage:"They’ll be able to continue previous chats referencing {serverName} content, but Claude won’t be able to access new content or perform new tasks.",id:"febCGTUpcY",values:{serverName:b}})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.A,{defaultMessage:"You can still continue previous chats that reference {serverName} content.",id:"xonrKBdErN",values:{serverName:b}}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(f.A,{defaultMessage:"However, Claude won’t be able to access new content or perform new tasks.",id:"GXIZPZXIvC"})]})}),t===c.v8.GITHUB&&(0,a.jsx)(x,{shouldDeleteOnDisable:v,setShouldDeleteOnDisable:y}),(0,a.jsxs)(l.vW,{children:[(0,a.jsx)(r.$,{onClick:n,variant:"secondary",children:(0,a.jsx)(f.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,a.jsx)(r.$,{loading:h,onClick:()=>{d({type:t,enabled:!1,should_delete_on_disable:v}),n()},variant:"danger",children:v?(0,a.jsx)(f.A,{defaultMessage:"Disconnect and delete cached files",id:"cpicqQfn34"}):(0,a.jsx)(f.A,{defaultMessage:"Disconnect",id:"qj1uhzynub"})})]})]})}function x(e){let{shouldDeleteOnDisable:t,setShouldDeleteOnDisable:n}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex items-center gap-2 mb-1",children:(0,a.jsx)(i.f,{checkState:t?"checked":"unchecked",onClick:e=>{let{didCheck:t}=e;return n(t)},label:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-text-200",children:(0,a.jsx)(f.A,{defaultMessage:"Permanently delete cached GitHub files",id:"QWSlg2jyOj"})}),(0,a.jsx)(o.Tooltip,{tooltipContent:(0,a.jsx)(f.A,{defaultMessage:"We will never delete any files from GitHub, only files cached by claude.ai",id:"V7mFrvJBWC"}),children:(0,a.jsx)(d.R,{className:"text-text-400"})})]})})}),t&&(0,a.jsx)("div",{className:"flex items-start align-top min-h-[5rem] gap-2 mb-10 ml-10 text-danger-000",children:(0,a.jsxs)("ul",{className:"text-sm list-disc",children:[(0,a.jsx)("li",{children:(0,a.jsx)(f.A,{defaultMessage:"File deletion will begin a few minutes after submission.",id:"09chittDG9"})}),(0,a.jsx)("li",{children:(0,a.jsx)(f.A,{defaultMessage:"All files cached from GitHub will be permanently deleted from claude.ai.",id:"F1B0dvW0IP"})}),(0,a.jsx)("li",{children:(0,a.jsx)(f.A,{defaultMessage:"An audit log will be written when deletion has completed.",id:"aNLDY0cpk9"})})]})})]})}},86030:(e,t,n)=>{n.d(t,{E:()=>r});var a=n(54568),s=n(32987);let r=e=>{let{color:t="default",size:n="default",children:r,className:i,uppercase:l}=e;return(0,a.jsx)("div",{className:(0,s.$)("inline-flex items-center align-middle leading-none flex-shrink-0","default"===t&&"bg-gradient-to-bl  from-bg-500/30  to-bg-500/70 text-text-300","flat"===t&&"bg-bg-500/40 text-text-200","secondary"===t&&"bg-accent-secondary-900/40 text-accent-secondary-200","pro"===t&&"bg-gradient-to-bl  from-accent-pro-200  to-accent-pro-100  text-oncolor-100","main"===t&&"bg-gradient-to-bl  from-accent-main-200/70  to-accent-main-100  text-oncolor-100","danger"===t&&"bg-danger-900 text-danger-200","default"===n&&"h-5 px-1.5 rounded-md text-[0.625rem]","sm"===n&&"h-4 px-1 rounded text-[0.625rem]","lg"===n&&"h-6 px-2 rounded-lg text-xs",l&&"uppercase tracking-[0.015rem]",i),children:r})}},87907:(e,t,n)=>{n.d(t,{ak:()=>l,cO:()=>r,lX:()=>o,xI:()=>i});var a=n(77101),s=n(37428);let r="settings",i=e=>a.sb[e]||e,l=()=>{let e=(0,s.wc)();return t=>t===a.v8.FIDDLEHEAD&&e[s.Wj]?e[s.Wj]:t===a.v8.CUTTLEFISH&&e[s.in]?e[s.in]:a.sb[t]||t};function o(e,t){var n;return(null==(n=e.server)?void 0:n.type)==="remote"&&t(e.server)}},88185:(e,t,n)=>{n.d(t,{K8:()=>y,$F:()=>b,Dx:()=>A,Y5:()=>C,hW:()=>M,Ox:()=>N,c7:()=>w,kV:()=>v});var a=n(98518),s=n(77186),r=n(1761),i=n(27062),l=n(77101),o=n(62942),c=n(7620),d=n(45270),u=n(62370),m=n(43172),f=n(75006);let g=f.z.object({field:f.z.enum(["custom_oauth_client_id","custom_oauth_client_secret","url"]),sourceUrl:f.z.string()}),p=f.z.object({uuid:f.z.string(),name:f.z.string(),oneLiner:f.z.string(),description:f.z.string(),iconUrl:f.z.string().optional(),toolNames:f.z.array(f.z.string()),promptNames:f.z.array(f.z.string()),license:f.z.string().optional(),version:f.z.string().optional(),author:f.z.object({name:f.z.string().optional(),url:f.z.string().optional()}).optional(),documentation:f.z.string().optional(),support:f.z.string().optional(),privacyPolicy:f.z.string().optional(),requiredFields:f.z.array(g).optional()});p.and(f.z.object({type:f.z.enum(["firstParty"]),syncSourceType:f.z.enum([l.v8.GDRIVE,l.v8.GMAIL,l.v8.GCAL,l.v8.SLACK])}));let h=p.and(f.z.object({type:f.z.enum(["remote"]),isAuthless:f.z.boolean()}).and(f.z.union([f.z.object({url:f.z.string(),urlRegex:f.z.undefined()}),f.z.object({url:f.z.undefined(),urlRegex:f.z.string()})])));p.and(f.z.object({type:f.z.enum(["local"]),manifest:m.PX,onDiskPath:f.z.string().optional(),downloadCount:f.z.number().optional(),lifetimeDownloadCount:f.z.number().optional(),isBlocklisted:f.z.boolean().optional(),isInternal:f.z.boolean().optional()}));let x=f.z.array(h),v=e=>{let{isOpen:t,selectedServerId:n}=e,s=(0,c.useRef)(!1),{track:r}=(0,a.st)();(0,c.useEffect)(()=>{t&&(!s.current||n)&&(s.current=!0,r({event_key:"claudeai.mcp.directory.page_view",directory_server_id:n}))},[t,n,r])},y=e=>{let{openModal:t}=e,n=(0,o.useSearchParams)(),a=n.get("directory-open"),s=n.get("directory-uuid");(0,c.useEffect)(()=>{if(a){try{let e=new URL(window.location.href);e.searchParams.delete("directory-open"),e.searchParams.delete("directory-uuid"),window.history.replaceState(null,"",e.pathname+e.search+e.hash)}catch(e){window.history.replaceState(null,"",window.location.pathname+window.location.hash)}t(null!=s?s:void 0)}},[a,s,t])},b=e=>{let{modalIsOpen:t,directoryUuid:n}=e,a=(0,c.useRef)(null);(0,c.useEffect)(()=>{let e;try{e=new URL(window.location.href)}catch(e){return}t?(a.current||(a.current=window.location.pathname),window.history.replaceState(null,"","/directory".concat(n?"/".concat(n):"")+e.search+e.hash)):!t&&a.current&&(window.history.replaceState(null,"",a.current+e.search+e.hash),a.current=null)},[t,n])},j=[{uuid:"8c1b41b4-c060-4704-8c17-95c39fa3511c",name:"Gmail",type:"firstParty",syncSourceType:l.v8.GMAIL,oneLiner:"Draft replies, summarize threads, & search your inbox",description:"Connect Gmail to Claude to quickly find important emails and understand long conversations. Claude can search through your messages, read entire email threads to give you context, and help you stay on top of your inbox. Perfect for finding that message you remember sending, catching up on email chains you missed, or preparing for meetings.",toolNames:[],promptNames:[],author:{name:"Anthropic",url:"https://anthropic.com"},documentation:"https://support.anthropic.com/en/articles/11088742-using-the-gmail-and-google-calendar-integrations",support:"https://support.anthropic.com",privacyPolicy:"https://www.anthropic.com/privacy"},{uuid:"da761fc3-2821-443c-9734-0b53599fda39",name:"Google Calendar",type:"firstParty",syncSourceType:l.v8.GCAL,oneLiner:"Understand your schedule and optimize your time",description:"Connect Google Calendar to Claude so it can see your schedule, find specific events, and help you prepare for meetings. Claude can search your calendar for events, check your availability, and find free time slots for scheduling. Useful for understanding what’s coming up, preparing for meetings by seeing attendee lists and details, or coordinating schedules when planning new events.",toolNames:[],promptNames:[],author:{name:"Anthropic",url:"https://anthropic.com"},documentation:"https://support.anthropic.com/en/articles/11088742-using-the-gmail-and-google-calendar-integrations",support:"https://support.anthropic.com",privacyPolicy:"https://www.anthropic.com/privacy"},{uuid:"37fb5d42-ef62-45d4-a12e-66551527a003",name:"Google Drive",type:"firstParty",syncSourceType:l.v8.GDRIVE,oneLiner:"Find and analyze files instantly",description:"Connect Google Drive to Claude so it can search through your documents, read file contents, and help you work with your files. Claude can find specific documents even when you don’t remember the exact name, read and analyze the content of your docs, and convert files to different formats. Useful for finding old project notes, analyzing document content, or pulling information from files scattered across your Drive.",toolNames:[],promptNames:[],author:{name:"Anthropic",url:"https://anthropic.com"},documentation:"https://support.anthropic.com/en/articles/10166901-using-the-google-drive-integration",support:"https://support.anthropic.com",privacyPolicy:"https://www.anthropic.com/privacy"}],C=()=>{let e=(0,u.Uz)();return{getCorrespondingInstalledServer:t=>{let{url:n,urlRegex:a}=t;if(n)return e.find(e=>e.url===n)||null;if(a){let t=new RegExp(a);return e.find(e=>t.test(e.url||""))||null}return null}}},A=e=>({getCorrespondingDirectoryServer:(0,c.useCallback)(t=>{let{url:n}=t;return n&&e.find(e=>{if("remote"===e.type){if(e.url)return e.url===n;else if(e.urlRegex)return new RegExp(e.urlRegex).test(n)}return!1})||null},[e])}),w=()=>{let e=(0,i.T9)("mcp_directory_servers","servers",[],x);return{status:"success",servers:[...(e=>{var t,n,a;let s=new Set;return(null==(t=e[l.v8.GMAIL])?void 0:t.available)||s.add(l.v8.GMAIL),(null==(n=e[l.v8.GCAL])?void 0:n.available)||s.add(l.v8.GCAL),(null==(a=e[l.v8.GDRIVE])?void 0:a.available)||s.add(l.v8.GDRIVE),j.filter(e=>!s.has(e.syncSourceType))})((0,d.Ou)()),...e].sort((e,t)=>e.name.localeCompare(t.name)),refetch:()=>{}}},M=()=>{let{servers:e}=w(),{getCorrespondingDirectoryServer:t}=A(e.filter(e=>"remote"===e.type));return{isRemoteServerInDirectory:e=>{let{url:n}=e;return!!t({url:n})}}},N=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],{activeOrganization:t}=(0,r.YL)(),n=(0,s.Sk)("/api/organizations/".concat(null==t?void 0:t.uuid,"/dxt/extensions"),{headers:{"x-dxt-registry-version":"2"}});return"success"!==n.status?{status:n.status,servers:[],refetch:()=>{n.refetch()}}:{status:n.status,refetch:()=>{n.refetch()},servers:n.data.entries.filter(t=>e||!0!==t.is_blocklisted).map(e=>{var t,n;let a=e.manifest;return{type:"local",uuid:e.id,name:a.display_name||a.name,oneLiner:a.description,description:a.long_description||a.description,iconUrl:e.icon_url||"",toolNames:(null==(t=a.tools)?void 0:t.map(e=>e.name))||[],promptNames:(null==(n=a.prompts)?void 0:n.map(e=>e.name))||[],license:a.license,version:a.version,author:{name:a.author.name,url:a.author.url},documentation:a.documentation,support:a.support,manifest:a,downloadCount:e.download_count,lifetimeDownloadCount:e.lifetime_download_count,isBlocklisted:e.is_blocklisted,isInternal:e.is_internal}}).sort((e,t)=>{var n,a;let s=null!=(n=e.lifetimeDownloadCount)?n:-1;return(null!=(a=t.lifetimeDownloadCount)?a:-1)-s})}}},91926:(e,t,n)=>{n.d(t,{f:()=>i});var a=n(54568),s=n(52198),r=n(32987);let i=(0,n(7620).forwardRef)((e,t)=>{let{checkState:n,onClick:i,label:l,...o}=e,c="partial"===n?s.Hs:s.Jl;return(0,a.jsxs)("div",{className:"p-2 -m-2 flex items-center",onClick:e=>{e.stopPropagation(),i({didCheck:"unchecked"===n})},children:[(0,a.jsx)("button",{ref:t,className:(0,r.A)("rounded p-[0.5px] border-0.5 flex items-center justify-center transition","unchecked"!==n?"bg-accent-secondary-000 border-accent-secondary-200 shadow-sm":"border-border-200 hover:bg-bg-000 hover:shadow-sm"),...o,children:(0,a.jsx)(c,{className:(0,r.A)("text-always-white transition",{invisible:"unchecked"===n}),size:16})}),l&&(0,a.jsx)("span",{className:"ml-2 cursor-pointer",children:l})]})});i.displayName="PartialCheckbox"}}]);