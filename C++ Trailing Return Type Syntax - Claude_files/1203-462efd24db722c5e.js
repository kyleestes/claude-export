try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="0bcab051-acf3-4ac2-8560-cf8c42122858",e._sentryDebugIdIdentifier="sentry-dbid-0bcab051-acf3-4ac2-8560-cf8c42122858")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1203,1417],{12072:(e,t,n)=>{n.d(t,{Tooltip:()=>m});var r=n(42977),a=n(54568),i=n(90510),o=n(91961),s=n(7620),l=n(32987),d=n(37463),u=n(67754);function c(){let e=(0,r._)(["\n  px-2\n  py-1\n  text-xs\n  font-normal\n  font-ui\n  leading-tight\n  rounded-md\n  shadow-md\n  text-white\n  bg-black/80\n  backdrop-blur\n  break-words\n  z-tooltip\n  max-w-[13rem]\n  [*:disabled_&]:hidden\n"]);return c=function(){return e},e}function p(){let e=(0,r._)(["\n  max-w-[337px]\n  z-tooltip\n  [*:disabled_&]:hidden\n"]);return p=function(){return e},e}function f(){let e=(0,r._)(["\n  p-1\n  font-small-bold\n  rounded-lg\n  shadow-md\n  text-white\n  bg-black/80\n  backdrop-blur\n  break-words\n  z-tooltip\n  max-w-[13rem]\n  [*:disabled_&]:hidden\n"]);return f=function(){return e},e}function g(){let e=(0,r._)(["\n  p-1\n  font-base\n  border-border-300\n  border-0.5\n  rounded-lg\n  shadow-diffused \n  shadow-[hsl(var(--always-black)/4%)]\n  text-text-100\n  bg-bg-100\n  break-words\n  z-tooltip\n  max-w-[13rem]\n  [*:disabled_&]:hidden\n"]);return g=function(){return e},e}function m(e){let{children:t,tooltipContent:n,contentStyle:r="default",side:i="top",sideOffset:d,align:c,className:p,delayDuration:f=200,keyboardShortcut:g,...m}=e,b=h[r],v=function(e){let t=(0,o.vm)();return(0,s.useMemo)(()=>{if(!e)return"";let n=e.toLowerCase().split("+").map(e=>e.trim()),r=[],a=[];n.forEach(e=>{["cmd","command","meta","ctrl","control","alt","option","shift"].includes(e)?r.push(e):a.push(e)});let i=["ctrl","control","alt","option","shift","cmd","command","meta"],o=[...r.sort((e,t)=>i.indexOf(e)-i.indexOf(t)).map(e=>t?({ctrl:"⌃",control:"⌃",alt:"⌥",option:"⌥",shift:"⇧",cmd:"⌘",command:"⌘",meta:"⌘"})[e]:({ctrl:"Ctrl",control:"Ctrl",alt:"Alt",option:"Alt",shift:"⇧",cmd:"Ctrl",command:"Ctrl",meta:"Ctrl"})[e]),...a.map(e=>{if(t){if("space"===e)return"␣";if("enter"===e||"return"===e)return"⏎";if("delete"===e||"backspace"===e)return"⌫";if("escape"===e||"esc"===e)return"Esc";if("tab"===e)return"⇥";if("up"===e)return"↑";if("down"===e)return"↓";if("left"===e)return"←";if("right"===e)return"→"}else{if("space"===e)return"Space";if("enter"===e||"return"===e)return"Enter";if("delete"===e||"backspace"===e)return"Backspace";if("escape"===e||"esc"===e)return"Esc";if("tab"===e)return"Tab";if("up"===e)return"Up";if("down"===e)return"Down";if("left"===e)return"Left";if("right"===e)return"Right"}return e.match(/^f\d+$/)||1===e.length?e.toUpperCase():e.charAt(0).toUpperCase()+e.slice(1)})];return t?o.join(""):o.join("+")},[e,t])}(g||"");return(0,a.jsx)(u.Kq,{delayDuration:f,children:(0,a.jsxs)(u.bL,{...m,children:[(0,a.jsx)(u.l9,{asChild:!0,children:t}),(0,a.jsx)(u.ZL,{children:(0,a.jsx)("span",{children:(0,a.jsxs)(b,{className:(0,l.A)(p,!n&&"hidden"),sideOffset:null!=d?d:5,side:i,align:c,children:[n,g&&(0,a.jsx)("span",{className:"ml-1.5 opacity-70",children:v})]})})})]})})}let b=(0,i.J)(u.UC)(c()),v=(0,i.J)(u.UC)(p()),h={default:b,citation:e=>{let{children:t,...n}=e;return(0,a.jsx)(v,{...n,children:(0,a.jsx)(d.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},className:"p-1 font-base text-text-200 bg-bg-100 break-words border-0.5 border-border-300/25 max-h-[300px] shadow-diffused shadow-[hsl(var(--always-black)/4%)] rounded-lg overflow-y-auto",children:t})})},inputMenu:(0,i.J)(u.UC)(f()),sampleImage:(0,i.J)(u.UC)(g())}},15046:(e,t,n)=>{n.d(t,{j:()=>i});var r=n(54568),a=n(32987);function i(e){let{className:t,variant:n,width:i=36,height:s=20,children:l,disableAnimation:d,...u}=e,c="number"==typeof s?"".concat(s,"px"):s,p="number"==typeof i?"".concat(i,"px"):i,f="calc(".concat(c," - 4px)"),g="calc(".concat(p," - ").concat(c,")");return(0,r.jsxs)("div",{className:(0,a.A)("group/switch relative select-none cursor-pointer",t),children:[(0,r.jsx)("input",{type:"checkbox",style:{width:i,height:c},className:"peer sr-only",role:"switch",...u}),(0,r.jsx)("div",{style:{width:i,height:c},className:(0,a.A)("border-border-300 rounded-full peer:can-focus peer-disabled:opacity-50",d&&"!transition-none",o.pill[n||"default"])}),(0,r.jsx)("div",{style:{height:f,width:f,transform:"translateX(".concat(u.checked?g:"0",")")},className:(0,a.A)("absolute flex items-center justify-center start-[2px] top-[2px] rounded-full transition-all",d&&"!transition-none",o.circle[n||"default"]),children:l})]})}let o={pill:{default:"\n    bg-bg-500\n    transition-colors\n    peer-checked:bg-accent-secondary-100\n    ",blackAndWhite:"\n    bg-bg-500  \n    ",dark:"\n    bg-bg-500\n    transition-colors\n    peer-checked:bg-text-100\n    dark:bg-border-200\n    dark:peer-checked:bg-text-500\n    "},circle:{default:"\n    group-hover/switch:opacity-80\n    bg-white\n    transition\n    ",blackAndWhite:"\n    group-hover/switch:opacity-80\n    bg-bg-000\n    transition\n    duration-200\n    ",dark:"\n    group-hover/switch:opacity-80\n    bg-white\n    transition\n    "}}},18179:(e,t,n)=>{n.r(t),n.d(t,{Loading:()=>s});var r=n(54568),a=n(32987),i=n(7620),o=n(62971);let s=(0,i.memo)(function(e){let{size:t="md",fullscreen:n=!1,inheritColor:s,delay:l=0}=e,[d,u]=(0,i.useState)(l>0);return(0,i.useEffect)(()=>{if(!l)return;let e=setTimeout(()=>u(!1),l);return()=>clearTimeout(e)},[l]),(0,r.jsx)("div",{className:(0,a.A)(n?"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2":"m-auto"),children:(0,r.jsx)("div",{className:(0,a.A)("sm"===t&&"h-4 w-4 border-2","md"===t&&"h-20 w-20 border-8",s?"border-current":"border-border-200","text-secondary inline-block animate-spin rounded-full border-solid border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]",d&&"hidden"),role:"status",children:(0,r.jsx)("span",{className:"sr-only",children:(0,r.jsx)(o.A,{defaultMessage:"Loading...",id:"gjBiyjshwX"})})})})})},18472:(e,t,n)=>{n.d(t,{O:()=>i});var r=n(54568),a=n(32987);let i=e=>{let{size:t=20,borderRadius:n=.27*t,className:i,children:o}=e;return(0,r.jsx)("div",{style:{width:t,height:t,borderRadius:n},className:(0,a.A)("shrink-0 bg-bg-000 border-border-300 border-0.5 shadow-sm flex items-center justify-center",i),children:o})}},41417:(e,t,n)=>{n.d(t,{$:()=>f});var r=n(54568),a=n(18179),i=n(12072),o=n(615),s=n(32987),l=n(27261),d=n.n(l),u=n(7620);let c="\n    text-text-000\n    font-base-bold\n    border-0.5\n    border-border-200\n    relative\n    overflow-hidden\n    transition\n    duration-100\n    hover:border-border-300/0\n    bg-bg-300/0\n    hover:bg-bg-400\n    backface-hidden",p=(0,o.F)("inline-flex\n  items-center\n  justify-center\n  relative\n  shrink-0\n  can-focus\n  select-none\n  disabled:pointer-events-none\n  disabled:opacity-50\n  disabled:shadow-none\n  disabled:drop-shadow-none",{variants:{variant:{primary:"bg-text-000\n        text-bg-000\n        font-base-bold\n        relative\n        overflow-hidden\n        transition-transform\n        will-change-transform\n        ease-[cubic-bezier(0.165,0.85,0.45,1)]\n        duration-150\n        hover:scale-y-[1.015]\n        hover:scale-x-[1.005]\n        backface-hidden\n        after:absolute\n        after:inset-0\n        after:bg-[radial-gradient(at_bottom,hsla(var(--bg-000)/20%),hsla(var(--bg-000)/0%))]\n        after:opacity-0\n        after:transition\n        after:duration-200\n        after:translate-y-2\n        hover:after:opacity-100\n        hover:after:translate-y-0",flat:"bg-accent-main-000\n          text-oncolor-100\n          font-base-bold\n          transition-colors\n          hover:bg-accent-main-200\n          focus:!outline-accent-main-100/75",secondary:c,outline:c,ghost:"text-text-300\n          border-transparent\n          transition\n          font-ui\n          tracking-tight\n          duration-300\n          ease-[cubic-bezier(0.165,0.85,0.45,1)]\n          hover:bg-bg-300\n          aria-checked:bg-bg-400\n          aria-expanded:bg-bg-400\n          hover:text-text-100\n          aria-pressed:text-text-100\n          aria-checked:text-text-100\n          aria-expanded:text-text-100",underline:"opacity-80\n          transition-all\n          active:scale-[0.985]\n          hover:opacity-100\n          hover:underline\n          underline-offset-3\n          rounded",danger:"bg-danger-200\n          text-oncolor-100\n          font-base-bold\n          transition\n          hover:scale-y-[1.015]\n          hover:scale-x-[1.005]\n          hover:opacity-95\n          focus:!outline-danger-100/50",unstyled:""},size:{default:"h-9 px-4 py-2 rounded-lg min-w-[5rem] active:scale-[0.985] whitespace-nowrap",sm:"h-8 rounded-md px-3 min-w-[4rem] active:scale-[0.985] whitespace-nowrap !text-xs",lg:"h-11 rounded-[0.6rem] px-5 min-w-[6rem] active:scale-[0.985] whitespace-nowrap !text-base",icon:"h-9 w-9 rounded-md active:scale-95 shrink-0",icon_xs:"h-6 w-6 rounded-md active:scale-95",icon_sm:"h-8 w-8 rounded-md active:scale-95",icon_lg:"h-11 w-11 rounded-[0.6rem] active:scale-95",inline:"px-0.5 rounded-[0.25rem]",unset:""},option:{rounded:"!rounded-full",prepend:"",append:""},state:{active:""}},compoundVariants:[{size:"default",option:"prepend",class:"pl-2 pr-3 gap-1"},{size:"lg",option:"prepend",class:"pl-2.5 pr-3.5 gap-1"},{size:"sm",option:"prepend",class:" pl-2 pr-2.5 gap-1"},{size:"default",option:"append",class:"pl-3 pr-2 gap-1"},{size:"lg",option:"append",class:"pl-3.5 pr-2.5 gap-1"},{size:"sm",option:"append",class:"pl-2.5 pr-2 gap-1"},{variant:"ghost",state:"active",class:"!bg-bg-400"}],defaultVariants:{variant:"primary",size:"default"}}),f=(0,u.forwardRef)((e,t)=>{let{className:n,variant:o,size:l,option:u,loading:c,href:f,onLinkClick:g,target:m,prepend:b,append:v,state:h,disabled:y,children:_,type:x="button",tooltip:w,tooltipSide:j="bottom",tooltipDelay:k,tooltipDisabled:S,tooltipHoverable:L=!1,...C}=e;b&&(u="prepend"),v&&(u="append");let E=(0,s.A)(p({variant:o,size:l,option:u,state:h,className:n}),c&&"text-transparent ![text-shadow:_none]"),T=(0,r.jsxs)(r.Fragment,{children:[c&&(0,r.jsx)("div",{className:(0,s.A)("absolute inset-0 flex items-center justify-center",o&&"flat"!==o&&"danger"!==o?"secondary"===o?"text-text-400":"text-bg-300":"text-bg-000"),children:(0,r.jsx)(a.Loading,{size:"sm",inheritColor:!0,delay:0})}),b,_,v]}),z=f?(0,r.jsx)(d(),{href:f,target:m||"_self",className:E,"aria-label":C["aria-label"],onClick:g,children:T}):(0,r.jsx)("button",{className:E,ref:t,disabled:y||c,type:x,...C,children:T});return w?(0,r.jsx)(i.Tooltip,{tooltipContent:w,side:j,delayDuration:k,disableHoverableContent:!L,children:(0,r.jsx)("div",{className:"w-fit",children:z})}):z});f.displayName="Button"},45564:(e,t,n)=>{n.d(t,{Q:()=>l,t:()=>d});var r=n(54568),a=n(89256),i=n.n(a),o=n(7620);let s=(0,o.createContext)({isOpen:!1,dropdownToOpen:void 0,openModal:i(),closeModal:i(),clearCallerIdentifier:i()}),l=e=>{let{children:t}=e,[n,a]=(0,o.useState)(!1),i=(0,o.useRef)(void 0),[l,d]=(0,o.useState)(void 0);return(0,r.jsx)(s.Provider,{value:{isOpen:n,openModal:e=>{a(!0),i.current=e},closeModal:()=>{a(!1),d(i.current)},dropdownToOpen:l,clearCallerIdentifier:()=>{d(void 0)}},children:t})},d=()=>(0,o.useContext)(s)},63246:(e,t,n)=>{n.d(t,{Ah:()=>o,Bs:()=>a,NJ:()=>i,VH:()=>r,Xs:()=>l,u5:()=>s});let r=e=>{let{account:t,isClaudeDot:n}=e;return n?!1===t.settings.has_finished_claudeai_onboarding:!t.full_name||!t.display_name},a=(e,t)=>t&&!e.is_verified,i=(e,t)=>!!function(e,t){for(let n of e.invites)if(n.organization.capabilities&&n.organization.capabilities.includes(t))return n}(e,t?"raven":"api"),o=(e,t)=>!t&&0===e.invites.length&&0===e.memberships.filter(e=>e.organization.capabilities.includes("api")).length,s=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n&&t&&!e.age_is_verified},l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r({account:e,isClaudeDot:t})||a(e,t)||i(e,t)||o(e,t)||s(e,t,n)}},69916:(e,t,n)=>{n.d(t,{ErrorSegmentConnector:()=>E,ErrorsProvider:()=>k,i:()=>T,Y:()=>S});var r=n(54568),a=n(63246),i=n(29585),o=n(27062),s=n(44180),l=n(90819),d=n.n(l),u=n(58648),c=n.n(u),p=n(26836),f=n.n(p),g=n(62942),m=n(7620),b=n(75006),v=n(98518),h=n(1761);function y(e,t){let n=[];for(let r of e){if(null==r)continue;let e=_(r,t+1);""!==e&&n.push(e)}return n.length>0?n.join(" "):""}function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>5?"":e instanceof Error?e.message:"string"==typeof e||"number"==typeof e||"boolean"==typeof e?String(e):m.isValidElement(e)?function e(t,n){var r;let a=t.props;return"object"==typeof a&&null!==a&&"defaultMessage"in a&&"string"==typeof a.defaultMessage?a.defaultMessage:"object"==typeof a&&null!==a&&"children"in a?(r=a.children,"string"==typeof r||"number"==typeof r||"boolean"==typeof r?String(r):null==r?"":Array.isArray(r)?y(r,n+1):m.isValidElement(r)?e(r,n+1):_(r,n+1)):""}(e,t):Array.isArray(e)?y(e,t):""}var x=n(46127);let w=(0,m.createContext)(void 0);function j(e){var t;let{userFacingMessage:n,error:r,toastId:a,errorContext:o,track:l,isApiError:d}=e,u=_(n),c=u?"".concat(u.substring(0,200)).concat(u.length>200?"...":""):"User-facing error toast",p=u?"User-facing error toast: ".concat(c):"User-facing error toast";l({event_key:"claudeai.user_facing_error.shown",error_message:c,toast_id:a,error_type:r instanceof i.LG?r.type:r instanceof Error?r.name:typeof r,error_source:(null==o||null==(t=o.tags)?void 0:t.source)||"unknown",has_original_error:!!r,original_error_message:r instanceof Error?r.message.substring(0,200):void 0,error_stack_trace:(e=>{if(e instanceof Error&&e.stack)return e.stack.split("\n").slice(0,3).join("\n").substring(0,500)})(r),error_code:(e=>{if(e instanceof i.LG){var t;if(e.errorCode)return e.errorCode;if((null==(t=e.extra)?void 0:t.details)&&"object"==typeof e.extra.details&&"error_code"in e.extra.details&&"string"==typeof e.extra.details.error_code)return e.extra.details.error_code}if(e instanceof Error&&"code"in e)return String(e.code)})(r),error_status_code:(e=>{if(e instanceof Error){if("statusCode"in e&&"number"==typeof e.statusCode)return e.statusCode;if("status"in e&&"number"==typeof e.status)return e.status}})(r),error_visibility:(e=>{var t;if(e instanceof i.LG&&(null==(t=e.extra)?void 0:t.details)&&"object"==typeof e.extra.details&&"error_visibility"in e.extra.details)return String(e.extra.details.error_visibility)})(r),websocket_close_code:(e=>{var t;if(e instanceof i.LG&&(null==(t=e.extra)?void 0:t.details)&&"object"==typeof e.extra.details&&"websocket_close_code"in e.extra.details&&"number"==typeof e.extra.details.websocket_close_code)return e.extra.details.websocket_close_code})(r),is_instanceof_api_error:r instanceof i.LG,is_caller_api_error:d,offline_status:"undefined"!=typeof navigator?!navigator.onLine:void 0});let f=(null==o?void 0:o.tags)||{},g=(null==o?void 0:o.extra)||{};if(r instanceof Error){let e=Error(p);e.stack=r.stack,(0,s.Cp)(e,{tags:{source:"error-toast",...f},extra:{toastId:a,originalErrorMessage:r.message,originalError:r,...g}})}else r?(0,s.Cp)(Error(p),{tags:{source:"error-toast",errorType:typeof r,...f},extra:{toastId:a,originalError:r,...g}}):(0,s.Cp)(Error(p),{tags:{source:"error-toast",errorType:"string"==typeof n?"string":"react-element",...f},extra:{toastId:a,extractedText:p,...g}})}function k(e){let{children:t}=e,n=(0,m.useRef)(1),[a,i]=(0,m.useState)([]),o=(0,m.useRef)(null),s=(0,m.useRef)([]),l=(0,m.useCallback)(e=>{o.current=e,s.current.forEach(t=>{e(t,void 0)}),s.current=[]},[]),d=(0,m.useCallback)(async e=>{if(null!==o.current)return o.current(e);s.current.push(e)},[]),u=(0,m.useCallback)(e=>{i(t=>t.filter(t=>t.id!==e))},[]),c=(0,m.useCallback)((e,t)=>{let r=n.current++,{timeout:a,error:o,errorContext:s}=t||{};return j({userFacingMessage:e,error:o,toastId:r,errorContext:s,track:d,isApiError:!1}),i(t=>[...t,{id:r,message:e,toastType:"error"}]),a&&setTimeout(()=>u(r),a),r},[u,d]),p=(0,m.useCallback)((e,t)=>{let r=n.current++,{timeout:a,errorContext:o}=t||{},s=e instanceof Error?e.message:String(e);return j({userFacingMessage:s,error:e,toastId:r,errorContext:o,track:d,isApiError:!0}),i(e=>[...e,{id:r,message:s,toastType:"error"}]),a&&setTimeout(()=>u(r),a),r},[u,d]),f=(0,m.useCallback)((e,t)=>{let r=n.current++;return i(t=>[...t,{id:r,message:e,toastType:"success"}]),t&&setTimeout(()=>u(r),t),r},[u]),g=(0,m.useMemo)(()=>({toasts:a,addError:c,addApiError:p,addSuccess:f,clearToast:u,registerSegmentTracker:l}),[a,c,p,f,u,l]);return(0,r.jsx)(w.Provider,{value:g,children:t})}function S(){let e=(0,m.useContext)(w);if(!e)throw Error("Must be called within ErrorsProvider");return e}let L=b.z.object({id:b.z.string().optional().nullable(),title:b.z.string().optional().nullable(),message:b.z.string().optional().nullable(),displayFrequencyHours:b.z.number().optional().nullable()}),C={};function E(){let{registerSegmentTracker:e}=S(),{track:t}=(0,v.st)();return(0,m.useEffect)(()=>{e(t)},[e,t]),null}function T(){var e;let{id:t,title:n,message:r,displayFrequencyHours:i}=(0,o.iW)("claude_system_message",C,L),{account:s}=(0,h.YL)(),l=null!=(e=null==s?void 0:s.uuid)?e:"logged-out",u=(0,g.usePathname)(),[p,b]=(0,x.Vc)("dismissed-system-messages",{}),v=(0,m.useMemo)(()=>()=>b(e=>{let n=d()(e);return t&&f()(n,[l,t],Date.now()),n}),[b,l,t]);return(0,m.useMemo)(()=>{if(!s||(0,a.Xs)(s,!0)||"/download"===u||!t)return!1;let e=c()(p,[l,t]);return!e||"boolean"==typeof e||!!i&&Date.now()-e>=60*i*6e4},[s,t,l,p,i,u])?{currentSystemMessageId:t,currentSystemMessageTitle:n,currentSystemMessageContent:r,dismissCurrentSystemMessage:v}:{currentSystemMessageId:null,currentSystemMessageTitle:null,currentSystemMessageContent:null,dismissCurrentSystemMessage:()=>null}}},80731:(e,t,n)=>{n.d(t,{K:()=>s,p:()=>l});var r=n(1761),a=n(55554),i=n(85544),o=n(21036);let s=()=>{let e=(0,r.O9)(),t=(0,r.zc)(),n=(0,r.mV)(),{selectedTier:s,shouldOverrideFeatureAccess:l,isTierSelectorEnabled:d}=(0,a.t)(),u=(0,o.useDynamicConfig)("claude_ai_projects_limits").get("max_free_projects",0)>0,c=d&&l&&s?s===i.d7.PRO||s===i.d7.MAX||s===i.d7.ENTERPRISE:e||t||n,p=(0,o.useLayer)("trials_freemium").get("free_project",!1);return u||c||p},l=()=>{let e=(0,r.O9)(),t=(0,r.zc)(),n=(0,r.mV)(),{selectedTier:s,shouldOverrideFeatureAccess:l,isTierSelectorEnabled:d}=(0,a.t)(),u=(0,o.useDynamicConfig)("claude_ai_projects_limits"),c=(0,o.useLayer)("trials_freemium");if(d&&l&&s?s===i.d7.PRO||s===i.d7.MAX||s===i.d7.ENTERPRISE:e||t||n)return;let p=u.get("max_free_projects",0);return p>0?p:+!!c.get("free_project",!1)}},81527:(e,t,n)=>{n.d(t,{BN:()=>C,CB:()=>v,GQ:()=>T,Gz:()=>E,Kf:()=>y,LQ:()=>L,PL:()=>b,bL:()=>j,bs:()=>_,dx:()=>f,eW:()=>S,fo:()=>x,gM:()=>g,gr:()=>m,mu:()=>A,sC:()=>p,sS:()=>k,u7:()=>h,xQ:()=>z});var r=n(7726),a=n(77186),i=n(1761),o=n(29585),s=n(71473),l=n(27062),d=n(87606),u=n(7620),c=n(80731);let p=30,f=1e4;var g=function(e){return e.Student="student",e.Beam="beam",e.Meeting="meeting",e.Haystack="haystack",e}({}),m=function(e){return e.Study="study",e.Career="career",e.Research="research",e.BeamTemplateAskClaudeV1="beam_template_ask_claude_v1",e.BeamTemplatePmV1="beam_template_pm_v1",e.BeamTemplateDsV1="beam_template_ds_v1",e.Zoom="zoom",e.Teams="teams",e.GoogleMeet="google_meet",e}({});let b=()=>{let{activeOrganization:e}=(0,i.YL)(),t=null==e?void 0:e.uuid;return(0,a.Sk)("/api/organizations/".concat(t,"/projects/count"),{queryKey:[s.Wy,{orgUUID:t}],staleTime:3e5,enabled:!!t,meta:{noToast:e=>e instanceof o.LG&&"permission_error"===e.type}})},v=e=>{let{enabled:t=!0,limit:n,offset:r,starred:o,creatorFilter:l,isBeam:d,projectFilter:u,orderBy:p}=e,{activeOrganization:f}=(0,i.YL)(),g=(0,c.K)(),m=null==f?void 0:f.uuid,b=new URLSearchParams;return b.append("include_harmony_projects","true"),void 0!==n&&b.append("limit",n.toString()),void 0!==r&&b.append("offset",r.toString()),void 0!==o&&b.append("starred",o.toString()),void 0!==l&&b.append("creator_filter",l.toString()),void 0!==d&&b.append("is_beam",d.toString()),void 0!==u&&b.append("filter",u.toString()),void 0!==p&&b.append("order_by",p.toString()),(0,a.Sk)("/api/organizations/".concat(m,"/projects?").concat(b.toString()),{queryKey:[s.BP,{orgUuid:m},{limit:n,offset:r,starred:o,creatorFilter:l,projectFilter:u,isBeam:d,orderBy:p}],enabled:!!(t&&f&&g),select:e=>{let t=e.length===n;return Object.assign(e.filter(e=>!e.archived_at),{hasMore:t})}})},h=e=>{let{enabled:t=!0,limit:n=p,offset:r=0,starred:o,creatorFilter:l,isBeam:d,projectFilter:u,orderBy:f,searchQuery:g}=e,{activeOrganization:m}=(0,i.YL)(),b=(0,c.K)(),v=null==m?void 0:m.uuid,h=new URLSearchParams;return h.append("limit",n.toString()),h.append("offset",r.toString()),void 0!==o&&h.append("starred",o.toString()),void 0!==l&&h.append("creator_filter",l.toString()),void 0!==d&&h.append("is_beam",d.toString()),void 0!==u&&h.append("filter",u.toString()),void 0!==f&&h.append("order_by",f.toString()),void 0!==g&&h.append("searchQuery",g.toString()),(0,a.Sk)("/api/organizations/".concat(v,"/projects_v2?").concat(h.toString()),{queryKey:[s.Wf,{orgUuid:v},{limit:n,offset:r,starred:o,creatorFilter:l,projectFilter:u,isBeam:d,orderBy:f,searchQuery:g}],enabled:!!(t&&m&&b)})},y=()=>{let{activeOrganization:e}=(0,i.YL)(),t=(0,a.mn)();return(0,u.useCallback)(async()=>(await t("/api/organizations/".concat(null==e?void 0:e.uuid,"/projects"))).json(),[null==e?void 0:e.uuid,t])},_=()=>{let e=y(),t=(0,r.uE)();return(0,u.useCallback)(async()=>{let[n,a]=await Promise.all([e(),t({limit:r.dy})]);return((e,t)=>{let n=e.map(e=>({...e,lastConversation:null==t?void 0:t.find(t=>t.project_uuid===e.uuid)})).filter(e=>e.lastConversation).sort((e,t)=>new Date(t.lastConversation.created_at).getTime()-new Date(e.lastConversation.created_at).getTime()),r=null==e?void 0:e.filter(e=>!n.find(t=>t.uuid===e.uuid));return[...n,...r]})(n,a)},[t,e])},x=e=>{let{activeOrganization:t}=(0,i.YL)(),n=null==t?void 0:t.uuid;return(0,a.Sk)("/api/organizations/".concat(n,"/projects/").concat(e),{queryKey:[s.hc,{orgUuid:n,projectUuid:e}],enabled:!!(t&&e),staleTime:0,meta:{noToast:e=>e instanceof o.LG&&(404===e.statusCode||403===e.statusCode)}})},w=()=>{let{activeOrganization:e}=(0,i.YL)(),t=null==e?void 0:e.uuid,n=(0,d.useQueryClient)();return{addProject:e=>{n.setQueriesData({queryKey:[s.Wf,{orgUuid:t}]},t=>t?{...t,data:[e,...t.data],pagination:{...t.pagination,total:t.pagination.total+1}}:t),n.setQueriesData({queryKey:[s.BP,{orgUuid:t}]},t=>t?[e,...t]:t),n.setQueriesData({queryKey:[s.Wy,{orgUUID:t}]},e=>e?{count:e.count+1}:e)},removeProject:e=>{n.setQueriesData({queryKey:[s.Wf,{orgUuid:t}]},t=>t?{...t,data:t.data.filter(t=>t.uuid!==e),pagination:{...t.pagination,total:Math.max(0,t.pagination.total-1)}}:t),n.setQueriesData({queryKey:[s.BP,{orgUuid:t}]},t=>t?t.filter(t=>t.uuid!==e):t),n.setQueriesData({queryKey:[s.Wy,{orgUUID:t}]},e=>e?{count:Math.max(0,e.count-1)}:e)}}},j=()=>{let{activeOrganization:e}=(0,i.YL)(),t=null==e?void 0:e.uuid,n=E(),{addProject:r}=w();return(0,a.L2)(()=>"/api/organizations/".concat(t,"/projects"),"POST",{onSuccess:e=>{r(e),n()}})},k=e=>{let{activeOrganization:t}=(0,i.YL)(),n=null==t?void 0:t.uuid,r=E();return(0,a.Qv)(()=>"/api/organizations/".concat(n,"/projects/").concat(e),"PUT",(e,t)=>t?{...t,...e}:void 0,{onSuccess:()=>{r(e)},queryKey:[s.hc,{orgUuid:n,projectUuid:e}]})},S=e=>{let{activeOrganization:t}=(0,i.YL)(),n=null==t?void 0:t.uuid,r=E(),{removeProject:o}=w();return(0,a.L2)(()=>"/api/organizations/".concat(n,"/projects/").concat(e),"DELETE",{onSuccess:()=>{o(e),r(e,{remove:!0})}})},L=function(e){let{limit:t=30,offset:n=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{activeOrganization:r}=(0,i.YL)(),l=null==r?void 0:r.uuid,d=new URLSearchParams;return d.append("limit",t.toString()),d.append("offset",n.toString()),(0,a.Sk)("/api/organizations/".concat(l,"/projects/").concat(e,"/conversations_v2?").concat(d.toString()),{queryKey:[s.yF,{orgUuid:l,projectUuid:e,limit:t,offset:n}],enabled:!!r,staleTime:0,meta:{noToast:e=>e instanceof o.LG&&403===e.statusCode}})},C=()=>{var e,t;let n=v({enabled:!0,creatorFilter:"is_creator",limit:f}),r=null==(t=n.data)||null==(e=t.find(e=>e.is_starter_project))?void 0:e.uuid;return{...n,data:r}},E=()=>{let{activeOrganization:e}=(0,i.YL)(),t=null==e?void 0:e.uuid,n=(0,d.useQueryClient)();return(e,r)=>{let{remove:a=!1}=r||{};if([[s.BP,{orgUuid:t}],[s.Wf,{orgUuid:t}],[s.Wy,{orgUUID:t}]].forEach(e=>void n.invalidateQueries({queryKey:e})),e){let r=a?"removeQueries":"invalidateQueries";[[s.hc,{orgUuid:t,projectUuid:e}],[s.yF,{orgUuid:t,projectUuid:e}],[s.vE,{projectUuid:e}]].forEach(e=>void n[r]({queryKey:e}))}}},T=(e,t)=>{let n=E();return(0,a.L2)("/api/organizations/".concat(e,"/projects/").concat(t,"/report"),"POST",{enabled:!!t&&!!e,onSuccess:()=>{n(t)}})},z=e=>{let{activeOrganization:t}=(0,i.YL)(),n=null==t?void 0:t.uuid,{value:r}=(0,l.fS)("claude_ai_sticky_project_settings");return(0,a.Sk)("/api/organizations/".concat(n,"/projects/").concat(e,"/settings"),{queryKey:[s.vX,{orgUuid:n,projectUuid:e}],enabled:!!(t&&e&&r)})},A=e=>{let{activeOrganization:t}=(0,i.YL)(),n=null==t?void 0:t.uuid,{value:r}=(0,l.fS)("claude_ai_sticky_project_settings");return(0,a.Qv)(()=>"/api/organizations/".concat(n,"/projects/").concat(e,"/settings"),"PUT",(e,t)=>t?{...t,...e}:void 0,{queryKey:[s.vX,{orgUuid:n,projectUuid:e}],enabled:!!(t&&e&&r)})}},85717:(e,t,n)=>{n.d(t,{$f:()=>M,K6:()=>I,L5:()=>N,LP:()=>k,U5:()=>C,cI:()=>L,ef:()=>R,fb:()=>D,kJ:()=>S,qL:()=>z,vT:()=>P,y:()=>E,yy:()=>w,zF:()=>T,zH:()=>A});var r=n(68096),a=n(77186),i=n(1761),o=n(69916),s=n(71473),l=n(27062),d=n(77101),u=n(90119),c=n(21036),p=n(87606),f=n(62942),g=n(7620),m=n(46760),b=n(98251),v=n(45564),h=n(93049),y=n(91768),_=n(40459);let x="gdrive_success",w=()=>{let e=(0,i.mV)(),{data:t}=(0,y.LN)(),n=!!(Array.isArray(t)&&t.find(e=>e.type===d.v8.GDRIVE&&e.enabled));return!e||n},j=()=>{let{value:e}=(0,l.fS)("kingfisher_enabled"),t=(0,c.useLayer)("trials_freemium").get("free_integrations",!1);return e||t},k=()=>{let e=w(),t=j();return!!(!_.env.NEXT_PUBLIC_DISABLE_GDRIVE_INTEGRATION&&t&&e)},S=()=>{let{account:e,activeOrganization:t}=(0,i.YL)(),n=null==t?void 0:t.uuid,r=k(),{data:o,isFetched:l}=(0,a.Sk)("/api/organizations/".concat(n,"/sync/mcp/drive/auth"),{queryKey:[s.jR,{accountUUID:null==e?void 0:e.uuid,orgUUID:n}],enabled:r,staleTime:3e5});return{isAuthenticated:r&&!!(null==o?void 0:o.is_authenticated),isFetched:l}},L=function(){let{callerIdentifier:e,handleAuthSuccess:t,pathname:n,queryString:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{isAuthenticated:l,isFetched:d}=S(),{addSuccess:c}=(0,o.Y)(),b=(0,m.A)(),{dropdownToOpen:h,clearCallerIdentifier:_}=(0,v.t)(),w=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];null==t||t(e),c(b.formatMessage({defaultMessage:"Successfully connected to Google Drive",id:"7RI6njc31e"}))},j=(e=>{let{callerIdentifier:t,pathname:n,queryString:r}=e,o=(0,f.usePathname)(),{account:l,activeOrganization:d}=(0,i.YL)(),c=null==l?void 0:l.uuid,m=null==d?void 0:d.uuid,b=k(),v=(0,p.useQueryClient)(),h=(0,u.V)(),_=(0,f.useSearchParams)(),{mutate:w}=(0,a.L2)("/api/organizations/".concat(m,"/sync/mcp/drive/auth/start"),"POST",{enabled:b,onSuccess:e=>{window.location.href=e.redirect_url}}),j=(0,g.useRef)(!1);return()=>{if(!b)return;let e="".concat(x,"=").concat(t).concat(r?"&".concat(r):""),a=(0,y.dH)({pathname:n||o,searchParams:_,queryString:e,isClaudeApp:h});if(v.invalidateQueries({queryKey:[s.jR,{accountUUID:c,orgUUID:m}]}),h)return void window.open("/settings/connectors?open_in_browser=1&auth_start=gdrive&origin=".concat(a));j.current||(j.current=!0,w({pre_auth_state:{origin:a},redirect_uri:new URL("/connect/mcp/drive/callback",window.location.origin).toString()}))}})({callerIdentifier:e,pathname:n,queryString:r});return(0,y.FZ)({callerIdentifier:e,successParam:x,handleOpen:w}),(0,g.useEffect)(()=>{e&&h===e&&(null==t||t(!0),_())},[h,t,e,_]),{isDriveAuthenticated:l,initDriveAuth:j,handleDriveTrigger:w,isFetched:d}},C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{account:t,activeOrganization:n}=(0,i.YL)(),r=null==t?void 0:t.uuid,o=null==n?void 0:n.uuid,l=k(),d=(0,p.useQueryClient)(),{mutate:u}=(0,b.ih)();return(0,a.L2)("/api/organizations/".concat(o,"/sync/mcp/drive/auth"),"DELETE",{enabled:!!(n&&l),...e,onSuccess:function(){for(var t,n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];d.invalidateQueries({queryKey:[s.jR,{accountUUID:r,orgUUID:o}]}),u({}),null==(t=e.onSuccess)||t.call(e,...a)}})},E=e=>{let{documentId:t}=e,{account:n,activeOrganization:r}=(0,i.YL)(),o=null==n?void 0:n.uuid,l=null==r?void 0:r.uuid,d=k(),u=(0,p.useQueryClient)(),c=(0,a.Sk)("/api/organizations/".concat(l,"/sync/mcp/drive/document/").concat(t,"?include_content=false"),{queryKey:[s.QB,{accountUUID:o,orgUUID:l,documentId:t}],enabled:d,meta:{noToast:!0}}),f=c.isError;return(0,g.useEffect)(()=>{f&&u.invalidateQueries({queryKey:[s.jR,{accountUUID:o,orgUUID:l}]})},[u,f,o,l]),c};function T(e){let{uri:t}=e,{data:n,isLoading:r}=E({documentId:t});return{title:null==n?void 0:n.title,isLoading:r}}let z=e=>{let{account:t,activeOrganization:n}=(0,i.YL)(),r=null==t?void 0:t.uuid,o=null==n?void 0:n.uuid,l=k(),d=(0,g.useMemo)(()=>e.map(e=>"/api/organizations/".concat(o,"/sync/mcp/drive/document/").concat(e)),[e,o]),u=(0,g.useMemo)(()=>({queryKey:e.map(e=>[s.qM,{accountUUID:r,orgUUID:o,documentId:e}]),enabled:l,meta:{noToast:!0}}),[e,r,o,l]);return(0,a._i)(d,u)},A=e=>{let{account:t,activeOrganization:n}=(0,i.YL)(),r=null==t?void 0:t.uuid,o=null==n?void 0:n.uuid,l=k(),d=(0,h.bI)(),{data:u,isSuccess:c,isLoading:p}=(0,a.Sk)("/api/organizations/".concat(o,"/sync/mcp/drive/recents"),{queryKey:[s.zu,{accountUUID:r,orgUUID:o}],enabled:e&&l,meta:{noToast:!0}});return(0,g.useEffect)(()=>{if(c&&u){let e=u.map(e=>{let{uri:t,title:n}=e;return{uri:t,title:n}});(0,h.Ac)(e)}},[c,u]),{recentDriveDocs:c?u:d,isLoading:p}},D=()=>{let e=j(),{value:t}=(0,l.fS)("apps_use_bananagrams"),n=(0,c.useLayer)("trials_freemium").get("free_integrations",!1);return e&&t||n},I=()=>{let e=k(),t=D();return e&&t&&!_.env.NEXT_PUBLIC_DISABLE_GDRIVE_INTEGRATION},M=e=>{var t;let n=I(),{account:r}=(0,i.YL)();return!!n&&(e?!!(null==e||null==(t=e.conversationSettings)?void 0:t.enabled_bananagrams):!!(null==r?void 0:r.settings.enabled_bananagrams))},N=()=>(0,l.fS)("rag_prototype").value,P=()=>{let e=I(),t=(0,i.mV)(),{data:n}=(0,y.LN)(),{account:r}=(0,i.YL)(),a=N();return!!e&&!!a&&(t?!!(Array.isArray(n)&&n.find(e=>{var t;return e.type===d.v8.GDRIVE&&e.enabled&&(null==(t=e.config)?void 0:t.allow_indexing)})):!!(null==r?void 0:r.settings.enabled_gdrive_indexing))},R=()=>{let{account:e}=(0,i.YL)(),{mutate:t}=(0,r.Jy)(),{mutate:n}=(0,b.Bg)();return{toggleDriveSearchAndIndexingEnabled:r=>{var a;let{indexingEnabled:i,searchEnabled:o,dismissBanner:s}=r,l=s||!!i;i&&n({}),t({...null==e?void 0:e.settings,...void 0!==i?{enabled_gdrive_indexing:i}:null,...void 0!==o||!0===i?{enabled_bananagrams:null!=i?i:o}:null,...l?{dismissed_claudeai_banners:[...(null==e||null==(a=e.settings)?void 0:a.dismissed_claudeai_banners)||[],{banner_id:"drive_indexing_enablement_2/11_1",dismissed_at:new Date().toISOString()}]}:null})}}}},90510:(e,t,n)=>{n.d(t,{J:()=>o});var r=n(32987),a=n(7620);function i(e){return function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];let s=t.map(e=>e.replace(/\n/g,"").trim()),l=a.forwardRef((t,n)=>{let{className:o,...l}=t,d=i.map(e=>"function"==typeof e?e(t):e),u=Object.fromEntries(Object.entries(l).filter(e=>{let[t]=e;return!t.startsWith("$")}));return a.createElement(e,{...u,ref:n,className:(0,r.A)(s,d,"string"==typeof o?o:"")})});return l.displayName="string"==typeof e?e:e.displayName,l}}function o(e){return i(e)}o.a=i("a"),o.aside=i("aside"),o.button=i("button"),o.main=i("main"),o.div=i("div"),o.form=i("form"),o.nav=i("nav"),o.fieldset=i("fieldset"),o.header=i("header"),o.h1=i("h1"),o.h2=i("h2"),o.h3=i("h3"),o.h4=i("h4"),o.h5=i("h5"),o.th=i("th"),o.td=i("td"),o.input=i("input"),o.label=i("label"),o.p=i("p"),o.section=i("section"),o.span=i("span"),o.li=i("li"),o.table=i("table"),o.thead=i("thead"),o.tbody=i("tbody"),o.tr=i("tr")},91961:(e,t,n)=>{n.d(t,{Fr:()=>a,K7:()=>p,Nj:()=>f,cX:()=>o,fJ:()=>c,lh:()=>g,uF:()=>d,vm:()=>s});var r=n(7620);function a(){return window.innerWidth<640}let i=/(macintosh|macintel|macppc|mac68k|macos)/i;function o(){let e=window.navigator.userAgent.toLowerCase();return i.test(e)}function s(){return(0,r.useMemo)(()=>/(macintosh|macintel|macppc|mac68k|macos)/i.test(window.navigator.userAgent),[])}let l=/(win32|win64|windows|wince)/i;function d(){let e=window.navigator.userAgent.toLowerCase();return l.test(e)}let u=/(iphone|ipad|ipod|android|mobile|webos)/i;function c(){let e=window.navigator.userAgent.toLowerCase();return u.test(e)}function p(e){(0,r.useEffect)(()=>{let t=document.title;return e&&(document.title="".concat(e," - Claude")),()=>{document.title=t}},[e])}let f=e=>{try{return new URL(e).hostname.split(".").slice(-2).join(".")}catch(e){return}},g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=[16,32,48,64,96,128].find(e=>e>=2*t)||128,r=f(e);if(r)return"https://www.google.com/s2/favicons?domain=".concat(r,"&sz=").concat(n)}}}]);